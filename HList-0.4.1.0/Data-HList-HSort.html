<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.HList.HSort</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-HList-HSort.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-HList-HSort.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">HList-0.4.1.0: Heterogeneous lists</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.HList.HSort</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Merge Sort</a></li><li><a href="#g:2">Quick sort</a></li><li><a href="#g:3">More efficient HRLabelSet / HLabelSet</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Benchmarks for these functions can be found at
<a href="http://code.haskell.org/~aavogt/HList-nodup/Run.html">http://code.haskell.org/~aavogt/HList-nodup/Run.html</a>.</p><p>See <a href="Data-HList-CommonMain.html#v:hSort">Data-HList-CommonMain.html#v:hSort</a>
for the public interface.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:HLeFn">HLeFn</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:HDown">HDown</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:HNeq">HNeq</a> le</li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a href="#t:HIsAscList">HIsAscList</a> le xs b | le xs -&gt; b</li><li class="src short"><span class="keyword">class</span> (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> a b, <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le) =&gt; <a href="#t:HSortBy">HSortBy</a> le a b | le a -&gt; b <span class="keyword">where</span><ul class="subs"><li><a href="#v:hSortBy">hSortBy</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> a -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> b</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:HSort">HSort</a> x y = <a href="Data-HList-HSort.html#t:HSortBy">HSortBy</a> <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> x y</li><li class="src short"><a href="#v:hSort">hSort</a> :: <a href="Data-HList-HSort.html#t:HSort">HSort</a> x y =&gt; <a href="Data-HList-HList.html#t:HList">HList</a> x -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> y</li><li class="src short"><span class="keyword">class</span> <a href="#t:HSortBy1">HSortBy1</a> ok le a b | ok le a -&gt; b <span class="keyword">where</span><ul class="subs"><li><a href="#v:hSortBy1">hSortBy1</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> ok -&gt; <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> a -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> b</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a href="#t:HMSortBy">HMSortBy</a> le a b | le a -&gt; b <span class="keyword">where</span><ul class="subs"><li><a href="#v:hMSortBy">hMSortBy</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> a -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> b</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:HSort2">HSort2</a> b x y ab | b x y -&gt; ab <span class="keyword">where</span><ul class="subs"><li><a href="#v:hSort2">hSort2</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> b -&gt; x -&gt; y -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> ab</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:HMerge">HMerge</a> le x y xy | le x y -&gt; xy <span class="keyword">where</span><ul class="subs"><li><a href="#v:hMerge">hMerge</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> x -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> y -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> xy</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:HMerge1">HMerge1</a> b x y min max = (<a href="Data-HList-FakePrelude.html#t:HCond">HCond</a> b (<a href="Data-HList-HList.html#t:HList">HList</a> x) (<a href="Data-HList-HList.html#t:HList">HList</a> y) (<a href="Data-HList-HList.html#t:HList">HList</a> min), <a href="Data-HList-FakePrelude.html#t:HCond">HCond</a> b (<a href="Data-HList-HList.html#t:HList">HList</a> y) (<a href="Data-HList-HList.html#t:HList">HList</a> x) (<a href="Data-HList-HList.html#t:HList">HList</a> max))</li><li class="src short"><a href="#v:hMerge1">hMerge1</a> :: (<a href="Data-HList-FakePrelude.html#t:HCond">HCond</a> t2 y x t, <a href="Data-HList-FakePrelude.html#t:HCond">HCond</a> t2 x y t1) =&gt; <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> t2 -&gt; y -&gt; x -&gt; (t, t1)</li><li class="src short"><span class="keyword">class</span> <a href="#t:HQSortBy">HQSortBy</a> le a b | le a -&gt; b <span class="keyword">where</span><ul class="subs"><li><a href="#v:hQSortBy">hQSortBy</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> a -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> b</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> lt =&gt; <a href="#t:HSetBy">HSetBy</a> lt ps</li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-HSort.html#t:HSetBy">HSetBy</a> (<a href="Data-HList-HSort.html#t:HNeq">HNeq</a> <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a>) ps =&gt; <a href="#t:HSet">HSet</a> ps</li><li class="src short"><span class="keyword">class</span> <a href="#t:HIsSet">HIsSet</a> ps b | ps -&gt; b</li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> lt =&gt; <a href="#t:HIsSetBy">HIsSetBy</a> lt ps b | lt ps -&gt; b</li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a href="#t:HAscList">HAscList</a> le ps</li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a href="#t:HAscList0">HAscList0</a> le ps ps0</li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a href="#t:HAscList1">HAscList1</a> le b ps ps0</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:HLeFn" class="def">HLeFn</a> <a href="src/Data-HList-HSort.html#HLeFn" class="link">Source</a></p><div class="doc"><p>the &quot;standard&quot; <code><a href="../base-4.7.0.2/Data-Ord.html#v:-60--61-">&lt;=</a></code> for types. Reuses <code><a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a></code></p><p>Note that ghc-7.6 is missing instances for Symbol and Nat, so that
 sorting only works <code><a href="Data-HList-FakePrelude.html#t:HNat">HNat</a></code> (as used by <a href="Data-HList-Label3.html">Data.HList.Label3</a>).</p></div><div class="subs instances"><p id="control.i:HLeFn" class="caption collapser" onclick="toggleSection('i:HLeFn')">Instances</p><div id="section.i:HLeFn" class="show"><table><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> * <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(~) <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> (<a href="../base-4.7.0.2/GHC-TypeLits.html#t:-60--61--63-">(&lt;=?)</a> x y) b =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Nat">Nat</a> <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> x y b</td><td class="doc"><p>only in ghc &gt;= 7.7</p></td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:HEq">HEq</a> <a href="../base-4.7.0.2/Data-Ord.html#t:Ordering">Ordering</a> (<a href="../base-4.7.0.2/GHC-TypeLits.html#t:CmpSymbol">CmpSymbol</a> x y) <a href="../base-4.7.0.2/Data-Ord.html#v:GT">GT</a> nb, (~) <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> (<a href="Data-HList-FakePrelude.html#t:HNot">HNot</a> nb) b) =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> x y b</td><td class="doc"><p>only in ghc &gt;= 7.7</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let b1 = Proxy :: HEqBy HLeFn &quot;x&quot; &quot;y&quot; b =&gt; Proxy b
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t b1
</code></strong>b1 :: Proxy 'True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let b2 = Proxy :: HEqBy HLeFn &quot;x&quot; &quot;x&quot; b =&gt; Proxy b
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t b2
</code></strong>b2 :: Proxy 'True
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let b3 = Proxy :: HEqBy HLeFn &quot;y&quot; &quot;x&quot; b =&gt; Proxy b
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t b3
</code></strong>b3 :: Proxy 'False
</pre></td></tr><tr><td class="src">(~) <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> (<a href="Data-HList-FakePrelude.html#t:HLe">HLe</a> x y) b =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * <a href="Data-HList-FakePrelude.html#t:HNat">HNat</a> <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> x y b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * k <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> x y b =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * * <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> (<a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> k x) (<a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> k y) b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * k <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> x y b =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * * <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> (<a href="Data-HList-FakePrelude.html#t:Label">Label</a> k x) (<a href="Data-HList-FakePrelude.html#t:Label">Label</a> k y) b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * k <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> x y b =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * * <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k x v) (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k y w) b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * <a href="Data-HList-FakePrelude.html#t:HNat">HNat</a> <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> n m b, (~) * ns ns') =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * * <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> (<a href="Data-HList-Label3.html#t:Lbl">Lbl</a> n ns desc) (<a href="Data-HList-Label3.html#t:Lbl">Lbl</a> m ns' desc') b</td><td class="doc"><p>Data.HList.Label3 labels can only be compared if they belong
 to the same namespace.</p></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:HDown" class="def">HDown</a> a <a href="src/Data-HList-HSort.html#HDown" class="link">Source</a></p><div class="doc"><p>analogous to <code><a href="../base-4.7.0.2/Data-Ord.html#t:Down">Down</a></code></p></div><div class="subs instances"><p id="control.i:HDown" class="caption collapser" onclick="toggleSection('i:HDown')">Instances</p><div id="section.i:HDown" class="show"><table><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> k1 k f y x b =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * k (<a href="Data-HList-HSort.html#t:HDown">HDown</a> k f) x y b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k a =&gt; <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> * (<a href="Data-HList-HSort.html#t:HDown">HDown</a> k a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:HNeq" class="def">HNeq</a> le <a href="src/Data-HList-HSort.html#HNeq" class="link">Source</a></p><div class="doc"><p>The HEqBy instances for <code>HNeq HLeFn</code> gives <code><a href="../base-4.7.0.2/Data-Ord.html#v:-60-">&lt;</a></code></p></div><div class="subs instances"><p id="control.i:HNeq" class="caption collapser" onclick="toggleSection('i:HNeq')">Instances</p><div id="section.i:HNeq" class="show"><table><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> k1 k le y x b1, (~) <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> (<a href="Data-HList-FakePrelude.html#t:HNot">HNot</a> b1) b2) =&gt; <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> * k (<a href="Data-HList-HSort.html#t:HNeq">HNeq</a> k le) x y b2</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k a =&gt; <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> * (<a href="Data-HList-HSort.html#t:HNeq">HNeq</a> k a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a name="t:HIsAscList" class="def">HIsAscList</a> le xs b | le xs -&gt; b <a href="src/Data-HList-HSort.html#HIsAscList" class="link">Source</a></p><div class="doc"><p><code>HIsAscList le xs b</code> is analogous to</p><pre>b = all (\(x,y) -&gt; x `le` y) (xs `zip` tail xs)</pre></div><div class="subs instances"><p id="control.i:HIsAscList" class="caption collapser" onclick="toggleSection('i:HIsAscList')">Instances</p><div id="section.i:HIsAscList" class="show"><table><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k le =&gt; <a href="Data-HList-HSort.html#t:HIsAscList">HIsAscList</a> k le ([] *) <a href="../base-4.7.0.2/Data-Bool.html#v:True">True</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> k * le x y b1, <a href="Data-HList-HSort.html#t:HIsAscList">HIsAscList</a> k le ((:) * y ys) b2, (~) <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> (<a href="Data-HList-FakePrelude.html#t:HAnd">HAnd</a> b1 b2) b3) =&gt; <a href="Data-HList-HSort.html#t:HIsAscList">HIsAscList</a> k le ((:) * x ((:) * y ys)) b3</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k le =&gt; <a href="Data-HList-HSort.html#t:HIsAscList">HIsAscList</a> k le ((:) * x ([] *)) <a href="../base-4.7.0.2/Data-Bool.html#v:True">True</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> a b, <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le) =&gt; <a name="t:HSortBy" class="def">HSortBy</a> le a b | le a -&gt; b <span class="keyword">where</span> <a href="src/Data-HList-HSort.html#HSortBy" class="link">Source</a></p><div class="doc"><p>quick sort with a special case for sorted lists</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:hSortBy" class="def">hSortBy</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> a -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> b <a href="src/Data-HList-HSort.html#hSortBy" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HSortBy" class="caption collapser" onclick="toggleSection('i:HSortBy')">Instances</p><div id="section.i:HSortBy" class="show"><table><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> * * a b, <a href="Data-HList-HSort.html#t:HIsAscList">HIsAscList</a> k le a ok, <a href="Data-HList-HSort.html#t:HSortBy1">HSortBy1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> k ok le a b) =&gt; <a href="Data-HList-HSort.html#t:HSortBy">HSortBy</a> k le a b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:HSort" class="def">HSort</a> x y = <a href="Data-HList-HSort.html#t:HSortBy">HSortBy</a> <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a> x y <a href="src/Data-HList-HSort.html#HSort" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:hSort" class="def">hSort</a> :: <a href="Data-HList-HSort.html#t:HSort">HSort</a> x y =&gt; <a href="Data-HList-HList.html#t:HList">HList</a> x -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> y <a href="src/Data-HList-HSort.html#hSort" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HSortBy1" class="def">HSortBy1</a> ok le a b | ok le a -&gt; b <span class="keyword">where</span> <a href="src/Data-HList-HSort.html#HSortBy1" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:hSortBy1" class="def">hSortBy1</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> ok -&gt; <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> a -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> b <a href="src/Data-HList-HSort.html#hSortBy1" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HSortBy1" class="caption collapser" onclick="toggleSection('i:HSortBy1')">Instances</p><div id="section.i:HSortBy1" class="show"><table><tr><td class="src"><a href="Data-HList-HSort.html#t:HQSortBy">HQSortBy</a> k le a b =&gt; <a href="Data-HList-HSort.html#t:HSortBy1">HSortBy1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> k <a href="../base-4.7.0.2/Data-Bool.html#v:False">False</a> le a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-HSort.html#t:HSortBy1">HSortBy1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> k <a href="../base-4.7.0.2/Data-Bool.html#v:True">True</a> le a a</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:1">Merge Sort</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a name="t:HMSortBy" class="def">HMSortBy</a> le a b | le a -&gt; b <span class="keyword">where</span> <a href="src/Data-HList-HSort.html#HMSortBy" class="link">Source</a></p><div class="doc"><p>HMSortBy is roughly a transcription of this merge sort</p><pre>msort [] = []
msort [x] = [x]
msort [x,y] = hSort2 x y
msort xs = case splitAt (length xs `div` 2) xs of
             (a,b) -&gt; msort a `merge` msort b</pre><pre>hSort2 x y
    | x &lt;= y    = [x,y]
    | otherwise = [y,x]</pre><pre>merge (x : xs) (y : ys)
  | x &gt; y     = y : merge (x : xs) ys
  | otherwise = x : merge xs (y : ys)</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:hMSortBy" class="def">hMSortBy</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> a -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> b <a href="src/Data-HList-HSort.html#hMSortBy" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HMSortBy" class="caption collapser" onclick="toggleSection('i:HMSortBy')">Instances</p><div id="section.i:HMSortBy" class="show"><table><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k le =&gt; <a href="Data-HList-HSort.html#t:HMSortBy">HMSortBy</a> k le ([] *) ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-HSort.html#t:HMerge">HMerge</a> k le xs' ys' sorted, <a href="Data-HList-HSort.html#t:HMSortBy">HMSortBy</a> k le ys ys', <a href="Data-HList-HSort.html#t:HMSortBy">HMSortBy</a> k le xs xs', <a href="Data-HList-HList.html#t:HLengthEq">HLengthEq</a> ((:) * a ((:) * b ((:) * c cs))) n2, (~) <a href="Data-HList-FakePrelude.html#t:HNat">HNat</a> (<a href="Data-HList-FakePrelude.html#t:HDiv2">HDiv2</a> n2) n, <a href="Data-HList-HList.html#t:HSplitAt">HSplitAt</a> n ((:) * a ((:) * b ((:) * c cs))) xs ys) =&gt; <a href="Data-HList-HSort.html#t:HMSortBy">HMSortBy</a> k le ((:) * a ((:) * b ((:) * c cs))) sorted</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-HSort.html#t:HSort2">HSort2</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> b x y ab, <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> k * le x y b) =&gt; <a href="Data-HList-HSort.html#t:HMSortBy">HMSortBy</a> k le ((:) * x ((:) * y ([] *))) ab</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k le =&gt; <a href="Data-HList-HSort.html#t:HMSortBy">HMSortBy</a> k le ((:) * x ([] *)) ((:) * x ([] *))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HSort2" class="def">HSort2</a> b x y ab | b x y -&gt; ab <span class="keyword">where</span> <a href="src/Data-HList-HSort.html#HSort2" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:hSort2" class="def">hSort2</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> b -&gt; x -&gt; y -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> ab <a href="src/Data-HList-HSort.html#hSort2" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HSort2" class="caption collapser" onclick="toggleSection('i:HSort2')">Instances</p><div id="section.i:HSort2" class="show"><table><tr><td class="src"><a href="Data-HList-HSort.html#t:HSort2">HSort2</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> <a href="../base-4.7.0.2/Data-Bool.html#v:False">False</a> x y ((:) * y ((:) * x ([] *)))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-HSort.html#t:HSort2">HSort2</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> <a href="../base-4.7.0.2/Data-Bool.html#v:True">True</a> x y ((:) * x ((:) * y ([] *)))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HMerge" class="def">HMerge</a> le x y xy | le x y -&gt; xy <span class="keyword">where</span> <a href="src/Data-HList-HSort.html#HMerge" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:hMerge" class="def">hMerge</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> x -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> y -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> xy <a href="src/Data-HList-HSort.html#hMerge" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HMerge" class="caption collapser" onclick="toggleSection('i:HMerge')">Instances</p><div id="section.i:HMerge" class="show"><table><tr><td class="src"><a href="Data-HList-HSort.html#t:HMerge">HMerge</a> k le ([] *) ([] *) ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-HSort.html#t:HMerge">HMerge</a> k le ([] *) ((:) * x xs) ((:) * x xs)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-HSort.html#t:HMerge">HMerge</a> k le ((:) * x xs) ([] *) ((:) * x xs)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> k * le x y b, <a href="Data-HList-HSort.html#t:HMerge1">HMerge1</a> b ((:) * x xs) ((:) * y ys) ((:) * l ls) hhs, <a href="Data-HList-HSort.html#t:HMerge">HMerge</a> k le ls hhs srt) =&gt; <a href="Data-HList-HSort.html#t:HMerge">HMerge</a> k le ((:) * x xs) ((:) * y ys) ((:) * l srt)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:HMerge1" class="def">HMerge1</a> b x y min max = (<a href="Data-HList-FakePrelude.html#t:HCond">HCond</a> b (<a href="Data-HList-HList.html#t:HList">HList</a> x) (<a href="Data-HList-HList.html#t:HList">HList</a> y) (<a href="Data-HList-HList.html#t:HList">HList</a> min), <a href="Data-HList-FakePrelude.html#t:HCond">HCond</a> b (<a href="Data-HList-HList.html#t:HList">HList</a> y) (<a href="Data-HList-HList.html#t:HList">HList</a> x) (<a href="Data-HList-HList.html#t:HList">HList</a> max)) <a href="src/Data-HList-HSort.html#HMerge1" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:hMerge1" class="def">hMerge1</a> :: (<a href="Data-HList-FakePrelude.html#t:HCond">HCond</a> t2 y x t, <a href="Data-HList-FakePrelude.html#t:HCond">HCond</a> t2 x y t1) =&gt; <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> t2 -&gt; y -&gt; x -&gt; (t, t1) <a href="src/Data-HList-HSort.html#hMerge1" class="link">Source</a></p></div><h1 id="g:2">Quick sort</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HQSortBy" class="def">HQSortBy</a> le a b | le a -&gt; b <span class="keyword">where</span> <a href="src/Data-HList-HSort.html#HQSortBy" class="link">Source</a></p><div class="doc"><p>HQSortBy is this algorithm</p><pre>qsort (x : xs @ (_ : _)) = case partition (&lt;= x) xs of
                 (le, gt) -&gt; qsort le ++ x : qsort gt
qsort xs = xs</pre><p>on random inputs that are not pathological (ie. not already sorted or reverse
sorted) this turns out to be faster than HMSortBy, so it is used by default.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:hQSortBy" class="def">hQSortBy</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> le -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> a -&gt; <a href="Data-HList-HList.html#t:HList">HList</a> b <a href="src/Data-HList-HSort.html#hQSortBy" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HQSortBy" class="caption collapser" onclick="toggleSection('i:HQSortBy')">Instances</p><div id="section.i:HQSortBy" class="show"><table><tr><td class="src"><a href="Data-HList-HSort.html#t:HQSortBy">HQSortBy</a> k le ([] *) ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-HList.html#t:HPartitionEq">HPartitionEq</a> k * le a ((:) * b bs) bGeq bLt, <a href="Data-HList-HSort.html#t:HQSortBy">HQSortBy</a> k le bLt sortedLt, <a href="Data-HList-HSort.html#t:HQSortBy">HQSortBy</a> k le bGeq sortedGeq, (~) [*] (<a href="Data-HList-HList.html#t:HAppendListR">HAppendListR</a> * sortedLt ((:) * a sortedGeq)) sorted, <a href="Data-HList-HList.html#t:HAppendList">HAppendList</a> sortedLt ((:) * a sortedGeq)) =&gt; <a href="Data-HList-HSort.html#t:HQSortBy">HQSortBy</a> k le ((:) * a ((:) * b bs)) sorted</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-HSort.html#t:HQSortBy">HQSortBy</a> k le ((:) * x ([] *)) ((:) * x ([] *))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:3">More efficient HRLabelSet / HLabelSet</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> lt =&gt; <a name="t:HSetBy" class="def">HSetBy</a> lt ps <a href="src/Data-HList-HSort.html#HSetBy" class="link">Source</a></p><div class="doc"><p>Provided the labels involved have an appropriate instance of HEqByFn,
it would be possible to use the following definitions:</p><pre>type HRLabelSet = HSet
type HLabelSet  = HSet</pre></div><div class="subs instances"><p id="control.i:HSetBy" class="caption collapser" onclick="toggleSection('i:HSetBy')">Instances</p><div id="section.i:HSetBy" class="show"><table><tr><td class="src">(<a href="Data-HList-HSort.html#t:HSortBy">HSortBy</a> k lt ps ps', <a href="Data-HList-HSort.html#t:HAscList">HAscList</a> k lt ps') =&gt; <a href="Data-HList-HSort.html#t:HSetBy">HSetBy</a> k lt ps</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-HSort.html#t:HSetBy">HSetBy</a> (<a href="Data-HList-HSort.html#t:HNeq">HNeq</a> <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a>) ps =&gt; <a name="t:HSet" class="def">HSet</a> ps <a href="src/Data-HList-HSort.html#HSet" class="link">Source</a></p><div class="subs instances"><p id="control.i:HSet" class="caption collapser" onclick="toggleSection('i:HSet')">Instances</p><div id="section.i:HSet" class="show"><table><tr><td class="src"><a href="Data-HList-HSort.html#t:HSetBy">HSetBy</a> * (<a href="Data-HList-HSort.html#t:HNeq">HNeq</a> * <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a>) ps =&gt; <a href="Data-HList-HSort.html#t:HSet">HSet</a> ps</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HIsSet" class="def">HIsSet</a> ps b | ps -&gt; b <a href="src/Data-HList-HSort.html#HIsSet" class="link">Source</a></p><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let xx = Proxy :: HIsSet [Label &quot;x&quot;, Label &quot;x&quot;] b =&gt; Proxy b
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t xx
</code></strong>xx :: Proxy 'False
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let xy = Proxy :: HIsSet [Label &quot;x&quot;, Label &quot;y&quot;] b =&gt; Proxy b
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t xy
</code></strong>xy :: Proxy 'True
</pre></div><div class="subs instances"><p id="control.i:HIsSet" class="caption collapser" onclick="toggleSection('i:HIsSet')">Instances</p><div id="section.i:HIsSet" class="show"><table><tr><td class="src"><a href="Data-HList-HSort.html#t:HIsSetBy">HIsSetBy</a> * (<a href="Data-HList-HSort.html#t:HNeq">HNeq</a> * <a href="Data-HList-HSort.html#t:HLeFn">HLeFn</a>) ps b =&gt; <a href="Data-HList-HSort.html#t:HIsSet">HIsSet</a> ps b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> lt =&gt; <a name="t:HIsSetBy" class="def">HIsSetBy</a> lt ps b | lt ps -&gt; b <a href="src/Data-HList-HSort.html#HIsSetBy" class="link">Source</a></p><div class="subs instances"><p id="control.i:HIsSetBy" class="caption collapser" onclick="toggleSection('i:HIsSetBy')">Instances</p><div id="section.i:HIsSetBy" class="show"><table><tr><td class="src">(<a href="Data-HList-HSort.html#t:HSortBy">HSortBy</a> k lt ps ps', <a href="Data-HList-HSort.html#t:HIsAscList">HIsAscList</a> k lt ps' b) =&gt; <a href="Data-HList-HSort.html#t:HIsSetBy">HIsSetBy</a> k lt ps b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a name="t:HAscList" class="def">HAscList</a> le ps <a href="src/Data-HList-HSort.html#HAscList" class="link">Source</a></p><div class="doc"><p><code>HAscList le xs</code> confirms that xs is in ascending order,
 and reports which element is duplicated otherwise.</p></div><div class="subs instances"><p id="control.i:HAscList" class="caption collapser" onclick="toggleSection('i:HAscList')">Instances</p><div id="section.i:HAscList" class="show"><table><tr><td class="src"><a href="Data-HList-HSort.html#t:HAscList0">HAscList0</a> k le ps ps =&gt; <a href="Data-HList-HSort.html#t:HAscList">HAscList</a> k le ps</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a name="t:HAscList0" class="def">HAscList0</a> le ps ps0 <a href="src/Data-HList-HSort.html#HAscList0" class="link">Source</a></p><div class="subs instances"><p id="control.i:HAscList0" class="caption collapser" onclick="toggleSection('i:HAscList0')">Instances</p><div id="section.i:HAscList0" class="show"><table><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k le =&gt; <a href="Data-HList-HSort.html#t:HAscList0">HAscList0</a> k le ([] *) ps0</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k le =&gt; <a href="Data-HList-HSort.html#t:HAscList0">HAscList0</a> k le ((:) * x ([] *)) ps0</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-HSort.html#t:HAscList1">HAscList1</a> k le b ((:) * y ys) ps0, <a href="Data-HList-FakePrelude.html#t:HEqBy">HEqBy</a> k * le x y b) =&gt; <a href="Data-HList-HSort.html#t:HAscList0">HAscList0</a> k le ((:) * x ((:) * y ys)) ps0</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> le =&gt; <a name="t:HAscList1" class="def">HAscList1</a> le b ps ps0 <a href="src/Data-HList-HSort.html#HAscList1" class="link">Source</a></p><div class="subs instances"><p id="control.i:HAscList1" class="caption collapser" onclick="toggleSection('i:HAscList1')">Instances</p><div id="section.i:HAscList1" class="show"><table><tr><td class="src"><a href="Data-HList-HSort.html#t:HAscList0">HAscList0</a> k le ys ys0 =&gt; <a href="Data-HList-HSort.html#t:HAscList1">HAscList1</a> k le <a href="../base-4.7.0.2/Data-Bool.html#v:True">True</a> ys ys0</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:Fail">Fail</a> (<a href="../ghc-prim-0.3.1.0/GHC-Tuple.html#t:-40--44--44--44--44--44--41-">(,,,,,)</a> <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> * <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> k <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> [*]) (<a href="../ghc-prim-0.3.1.0/GHC-Tuple.html#v:-40--44--44--44--44--44--41-">(,,,,,)</a> <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> * <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> k <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> [*] &quot;Duplicated element&quot; y &quot;using le&quot; le &quot;in&quot; ys0), <a href="Data-HList-FakePrelude.html#t:HEqByFn">HEqByFn</a> k le) =&gt; <a href="Data-HList-HSort.html#t:HAscList1">HAscList1</a> k le <a href="../base-4.7.0.2/Data-Bool.html#v:False">False</a> ((:) * y ys) ys0</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Data.HList.TypeEqO
</code></strong></pre></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.15.0.2</p></div></body></html>