<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.HList.Variant</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-HList-Variant.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-HList-Variant.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">HList-0.4.1.0: Heterogeneous lists</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.HList.Variant</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Labels for doctests</a><ul><li><a href="#g:2">Alternative: a <code>Record</code> as the Proxy</a></li><li><a href="#g:3">A polymorphic Proxy</a></li><li><a href="#g:4">Unsafe operations</a></li></ul></li><li><a href="#g:5">Public constructor</a></li><li><a href="#g:6">Public destructor</a></li><li><a href="#g:7">Prism</a></li><li><a href="#g:8">Read</a></li><li><a href="#g:9">Show</a></li><li><a href="#g:10">Data</a></li><li><a href="#g:11">Map</a></li><li><a href="#g:12">HUpdateAtLabel instance</a></li><li><a href="#g:13">HExtend instance</a></li><li><a href="#g:14">Conversion to an untagged value</a></li><li><a href="#g:15">Zip</a><ul><li><a href="#g:16">with a record</a></li></ul></li><li><a href="#g:17">Eq</a><ul><li><a href="#g:18">Alternative Eq</a></li></ul></li><li><a href="#g:19">Ord</a></li><li><a href="#g:20">Bounded</a></li><li><a href="#g:21">Enum</a></li><li><a href="#g:22">Ix (TODO)</a></li><li><a href="#g:23">Monoid</a></li><li><a href="#g:24">Projection</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The HList library</p><p>See <a href="Data-HList-CommonMain.html#t:Variant">CommonMain#Variant</a>
   for the public (safe) interface.</p><p>The implementation here follows <a href="../base-4.7.0.2/Data-Dynamic.html">Data.Dynamic</a>, though Typeable is not
   needed.</p><p>See <code>broken/VariantP.hs</code> and <code>broken/VariantOld.hs</code> for different approaches
   to open sums.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Variant">Variant</a> vs = <a href="#v:Variant">Variant</a> !<a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> <a href="../ghc-prim-0.3.1.0/GHC-Prim.html#t:Any">Any</a></li><li class="src short"><a href="#v:unsafeMkVariant">unsafeMkVariant</a> :: <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> vs</li><li class="src short"><a href="#v:unsafeCastVariant">unsafeCastVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v'</li><li class="src short"><a href="#v:castVariant">castVariant</a> :: (<a href="Data-HList-Record.html#t:RecordValuesR">RecordValuesR</a> v ~ <a href="Data-HList-Record.html#t:RecordValuesR">RecordValuesR</a> v', <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> v v') =&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v'</li><li class="src short"><a href="#v:unsafeUnVariant">unsafeUnVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; e</li><li class="src short"><a href="#v:unsafeEmptyVariant">unsafeEmptyVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> []</li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-Record.html#t:HasField">HasField</a> x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> vs) (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> v) =&gt; <a href="#t:MkVariant">MkVariant</a> x v vs | x vs -&gt; v <span class="keyword">where</span><ul class="subs"><li><a href="#v:mkVariant">mkVariant</a> :: <a href="Data-HList-FakePrelude.html#t:Label">Label</a> x -&gt; v -&gt; proxy vs -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> vs</li></ul></li><li class="src short"><a href="#v:mkVariant1">mkVariant1</a> :: <a href="Data-HList-FakePrelude.html#t:Label">Label</a> k l -&gt; e -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l e) ([] *))</li><li class="src short"><a href="#v:splitVariant1">splitVariant1</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> s x : xs) -&gt; <a href="../base-4.7.0.2/Data-Either.html#t:Either">Either</a> x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xs)</li><li class="src short"><a href="#v:splitVariant1-39-">splitVariant1'</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> (x : xs) -&gt; <a href="../base-4.7.0.2/Data-Either.html#t:Either">Either</a> x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xs)</li><li class="src short"><a href="#v:extendVariant">extendVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> l -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> (e : l)</li><li class="src short"><span class="keyword">class</span> (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> s t, <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> s t) =&gt; <a href="#t:HPrism">HPrism</a> x s t a b | x s -&gt; a, x t -&gt; b, x s b -&gt; t, x t a -&gt; s <span class="keyword">where</span><ul class="subs"><li><a href="#v:hPrism">hPrism</a> :: (<a href="../profunctors-4.4.1/Data-Profunctor.html#t:Choice">Choice</a> p, <a href="../base-4.7.0.2/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; <a href="Data-HList-FakePrelude.html#t:Label">Label</a> x -&gt; p a (f b) -&gt; p (<a href="Data-HList-Variant.html#t:Variant">Variant</a> s) (f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> t))</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:ShowVariant">ShowVariant</a> vs <span class="keyword">where</span><ul class="subs"><li><a href="#v:showVariant">showVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> vs -&gt; <a href="../base-4.7.0.2/Text-Show.html#t:ShowS">ShowS</a></li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:ReadVariant">ReadVariant</a> vs <span class="keyword">where</span><ul class="subs"><li><a href="#v:readVariant">readVariant</a> :: <a href="../base-4.7.0.2/Text-ParserCombinators-ReadP.html#t:ReadP">ReadP</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> vs)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:VariantConstrs">VariantConstrs</a> xs <span class="keyword">where</span><ul class="subs"><li><a href="#v:variantConstrs">variantConstrs</a> :: <a href="../base-4.7.0.2/Data-Data.html#t:DataType">DataType</a> -&gt; proxy xs -&gt; [<a href="../base-4.7.0.2/Data-Data.html#t:Constr">Constr</a>]</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:GunfoldVariant">GunfoldVariant</a> es v <span class="keyword">where</span><ul class="subs"><li><a href="#v:gunfoldVariant">gunfoldVariant</a> :: (<span class="keyword">forall</span> b. <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> b =&gt; (b -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v) -&gt; c (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)) -&gt; <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> es -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; c (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:GfoldlVariant">GfoldlVariant</a> xs xs' <span class="keyword">where</span><ul class="subs"><li><a href="#v:gfoldlVariant">gfoldlVariant</a> :: (<span class="keyword">forall</span> d b. <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> d =&gt; c (d -&gt; b) -&gt; d -&gt; c b) -&gt; (<span class="keyword">forall</span> g. g -&gt; c g) -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> xs -&gt; c (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xs')</li></ul></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:HMapV">HMapV</a> f = <a href="#v:HMapV">HMapV</a> f</li><li class="src short"><a href="#v:hMapV">hMapV</a> :: (<a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> f) x y, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * y x, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * x y) =&gt; f -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> y</li><li class="src short"><a href="#v:hMapOutV">hMapOutV</a> :: <span class="keyword">forall</span> x y z f. (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> x y, <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> f) x y, <a href="Data-HList-Variant.html#t:Unvariant">Unvariant</a> y z, <a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x z ~ y) =&gt; f -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; z</li><li class="src short"><span class="keyword">type family</span> <a href="#t:HMapOutV_gety">HMapOutV_gety</a> x z :: [*]</li><li class="src short"><span class="keyword">type</span> <a href="#t:HUpdateVariantAtLabelCxt">HUpdateVariantAtLabelCxt</a> l e v v' n _e = (<a href="Data-HList-Record.html#t:HFindLabel">HFindLabel</a> l v n, <a href="Data-HList-Record.html#t:HFindLabel">HFindLabel</a> l v' n, <a href="Data-HList-HArray.html#t:HUpdateAtHNatR">HUpdateAtHNatR</a> n (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> l e) v ~ v', <a href="Data-HList-Record.html#t:HasField">HasField</a> l (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v) (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> _e), <a href="Data-HList-Record.html#t:HasField">HasField</a> l (<a href="Data-HList-Record.html#t:Record">Record</a> v') e, <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> l e v')</li><li class="src short"><span class="keyword">type family</span> <a href="#t:UnMaybe">UnMaybe</a> le</li><li class="src short"><span class="keyword">class</span> <a href="#t:HAllEqVal">HAllEqVal</a> x b | x -&gt; b</li><li class="src short"><span class="keyword">class</span> <a href="#t:HAllEqVal-39-">HAllEqVal'</a> x</li><li class="src short"><span class="keyword">class</span> <a href="#t:Unvariant-39-">Unvariant'</a> v e | v -&gt; e <span class="keyword">where</span><ul class="subs"><li><a href="#v:unvariant-39-">unvariant'</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; e</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:Unvariant">Unvariant</a> v e | v -&gt; e <span class="keyword">where</span><ul class="subs"><li><a href="#v:unvariant">unvariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; e</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:Unvariant1">Unvariant1</a> b v e | b v -&gt; e <span class="keyword">where</span><ul class="subs"><li><a href="#v:unvariant1">unvariant1</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> b -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; e</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:UnvariantTypeMismatch">UnvariantTypeMismatch</a> vs</li><li class="src short"><a href="#v:unvarianted">unvarianted</a> :: (<a href="Data-HList-Variant.html#t:Unvariant-39-">Unvariant'</a> s a, <a href="Data-HList-Variant.html#t:Unvariant-39-">Unvariant'</a> t b, <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> s t, <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> s t, <a href="../base-4.7.0.2/Control-Monad.html#t:Functor">Functor</a> f) =&gt; (a -&gt; f b) -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> s -&gt; f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> t)</li><li class="src short"><a href="#v:unvarianted-39-">unvarianted'</a> :: (<a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> * () b) s) b1, <a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> s b1, <a href="Data-HList-Variant.html#t:HAllEqVal-39-">HAllEqVal'</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> * () b) s), <a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> b1 s b, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * s s, <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> [*] [*] s s, <a href="../base-4.7.0.2/Control-Monad.html#t:Functor">Functor</a> f) =&gt; (b -&gt; f b) -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> s -&gt; f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> s)</li><li class="src short"><span class="keyword">class</span> <a href="#t:ZipVariant">ZipVariant</a> x y xy | x y -&gt; xy, xy -&gt; x y <span class="keyword">where</span><ul class="subs"><li><a href="#v:zipVariant">zipVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> y -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xy)</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> v v', <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> v v') =&gt; <a href="#t:ZipVR">ZipVR</a> fs v v' | fs v -&gt; v' <span class="keyword">where</span><ul class="subs"><li><a href="#v:zipVR_">zipVR_</a> :: <a href="Data-HList-Record.html#t:Record">Record</a> fs -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v'</li></ul></li><li class="src short"><a href="#v:zipVR">zipVR</a> :: (<a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> fs v, <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> fs v, <a href="Data-HList-Variant.html#t:ZipVR">ZipVR</a> fs v v', <a href="Data-HList-Variant.html#t:ZipVRCxt">ZipVRCxt</a> fs v v') =&gt; <a href="Data-HList-Record.html#t:Record">Record</a> fs -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v'</li><li class="src short"><span class="keyword">type family</span> <a href="#t:ZipVRCxt">ZipVRCxt</a> fs xs ys :: <a href="../base-4.7.0.2/GHC-Exts.html#t:Constraint">Constraint</a></li><li class="src short"><a href="#v:eqVariant">eqVariant</a> :: (<a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> * () <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>)) b, <a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) b, <a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> b (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>, <a href="Data-HList-Variant.html#t:ZipVariant">ZipVariant</a> x1 y x, <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> <a href="Data-HList-Variant.html#t:UncurryEq">UncurryEq</a>) x (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>), <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) x, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * x (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>)) =&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> x1 -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> y -&gt; <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:UncurryEq">UncurryEq</a> = <a href="#v:UncurryEq">UncurryEq</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:ProjectVariant">ProjectVariant</a> x y <span class="keyword">where</span><ul class="subs"><li><a href="#v:projectVariant">projectVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> y)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> y =&gt; <a href="#t:ProjectExtendVariant">ProjectExtendVariant</a> x y <span class="keyword">where</span><ul class="subs"><li><a href="#v:projectExtendVariant">projectExtendVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> y)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:ProjectExtendVariant-39-">ProjectExtendVariant'</a> inY lv y <span class="keyword">where</span><ul class="subs"><li><a href="#v:projectExtendVariant-39-">projectExtendVariant'</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> inY -&gt; lv -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> y)</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x yin, <a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x yout) =&gt; <a href="#t:SplitVariant">SplitVariant</a> x yin yout <span class="keyword">where</span><ul class="subs"><li><a href="#v:splitVariant">splitVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="../base-4.7.0.2/Data-Either.html#t:Either">Either</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> yin) (<a href="Data-HList-Variant.html#t:Variant">Variant</a> yout)</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> y, <a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> x) =&gt; <a href="#t:ExtendsVariant">ExtendsVariant</a> x y <span class="keyword">where</span><ul class="subs"><li><a href="#v:extendsVariant">extendsVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> y</li></ul></li><li class="src short"><a href="#v:rearrangeVariant">rearrangeVariant</a> :: (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> v v', <a href="Data-HList-Variant.html#t:ExtendsVariant">ExtendsVariant</a> v v') =&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v'</li><li class="src short"><a href="#v:hMaybied">hMaybied</a> :: (<a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v1 x, <a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v r, <a href="Data-HList-HList.html#t:HFoldr">HFoldr</a> <a href="Data-HList-Variant.html#t:HMaybiedToVariantFs">HMaybiedToVariantFs</a> [<a href="Data-HList-Variant.html#t:Variant">Variant</a> ([] *)] x [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v1], <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-HList.html#t:HList">HList</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> <a href="Data-HList-Variant.html#t:HCastF">HCastF</a>) x r, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * x r, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * r x, <a href="../profunctors-4.4.1/Data-Profunctor.html#t:Choice">Choice</a> p, <a href="../base-4.7.0.2/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v1) (f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)) -&gt; p (<a href="Data-HList-Record.html#t:Record">Record</a> x) (f (<a href="Data-HList-Record.html#t:Record">Record</a> r))</li><li class="src short"><span class="keyword">data</span> <a href="#t:HCastF">HCastF</a> = <a href="#v:HCastF">HCastF</a></li><li class="src short"><a href="#v:hMaybied-39-">hMaybied'</a> :: (<a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v x, <a href="Data-HList-HList.html#t:HFoldr">HFoldr</a> <a href="Data-HList-Variant.html#t:HMaybiedToVariantFs">HMaybiedToVariantFs</a> [<a href="Data-HList-Variant.html#t:Variant">Variant</a> ([] *)] x [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v], <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-HList.html#t:HList">HList</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> <a href="Data-HList-Variant.html#t:HCastF">HCastF</a>) x x, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * x x, <a href="../profunctors-4.4.1/Data-Profunctor.html#t:Choice">Choice</a> p, <a href="../base-4.7.0.2/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v) (f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)) -&gt; p (<a href="Data-HList-Record.html#t:Record">Record</a> x) (f (<a href="Data-HList-Record.html#t:Record">Record</a> x))</li><li class="src short"><span class="keyword">class</span> <a href="#t:VariantToHMaybied">VariantToHMaybied</a> v r | v -&gt; r, r -&gt; v <span class="keyword">where</span><ul class="subs"><li><a href="#v:variantToHMaybied">variantToHMaybied</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Record.html#t:Record">Record</a> r</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ConstTaggedNothing">ConstTaggedNothing</a> = <a href="#v:ConstTaggedNothing">ConstTaggedNothing</a></li><li class="src short"><a href="#v:hMaybiedToVariants">hMaybiedToVariants</a> :: (<a href="Data-HList-HList.html#t:HFoldr">HFoldr</a> <a href="Data-HList-Variant.html#t:HMaybiedToVariantFs">HMaybiedToVariantFs</a> [<a href="Data-HList-Variant.html#t:Variant">Variant</a> []] r [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v], <a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v r) =&gt; <a href="Data-HList-Record.html#t:Record">Record</a> r -&gt; [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v]</li><li class="src short"><span class="keyword">data</span> <a href="#t:HMaybiedToVariantFs">HMaybiedToVariantFs</a> = <a href="#v:HMaybiedToVariantFs">HMaybiedToVariantFs</a></li></ul></div><div id="interface"><h1 id="g:1">Labels for doctests</h1><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Data.HList.RecordPuns
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let x = Label :: Label &quot;x&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let y = Label :: Label &quot;y&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let z = Label :: Label &quot;z&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let _left = Label :: Label &quot;left&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let _right = Label :: Label &quot;right&quot;
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XQuasiQuotes -XViewPatterns -XDataKinds
</code></strong></pre><ul><li>- * Creating Variants</li></ul><p>It is necessary to specify the order in which the fields occur, using
a data type like</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let p = Proxy :: Proxy '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; Int]
</code></strong></pre><p>Then this argument can be passed into <code><a href="Data-HList-Variant.html#v:mkVariant">mkVariant</a></code></p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let v = mkVariant _left 'x' p
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let w = mkVariant _right 5  p
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t v
</code></strong>v :: Variant '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; Int]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t w
</code></strong>w :: Variant '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; Int]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[v,w]
</code></strong>[V{left='x'},V{right=5}]
</pre></div><h2 id="g:2">Alternative: a <code><a href="Data-HList-Record.html#t:Record">Record</a></code> as the Proxy</h2><div class="doc"><p>The type of mkVariant also allows using a <code><a href="Data-HList-Record.html#t:Record">Record</a></code> as the proxy. For example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong>let p2 = [pun| left right |] where
            left = 'a'
            right = (4::Int)
:}
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let v2 = mkVariant _left 'x' p2
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let w2 = mkVariant _right 5  p2
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t v2
</code></strong>v2 :: Variant '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; Int]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t w2
</code></strong>w2 :: Variant '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; Int]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(v2,w2)
</code></strong>(V{left='x'},V{right=5})
</pre></div><h2 id="g:3">A polymorphic Proxy</h2><div class="doc"><p>It is also possible to leave the <code>Char</code> and <code>Int</code> as type variables,
and have them inferred.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let p3 = Proxy :: Proxy '[Tagged &quot;left&quot; a, Tagged &quot;right&quot; b]
</code></strong></pre><p>Using <code>p3</code> takes some care. The following attempt shows the problem:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong>let v3' = mkVariant _left 'x' p3
    w3' = mkVariant _right (5::Int) p3
:}
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t v3'
</code></strong>v3' :: Variant '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; b]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t w3'
</code></strong>w3' :: Variant '[Tagged &quot;left&quot; a, Tagged &quot;right&quot; Int]
</pre><p>Here each use of <code>p3</code> does not constrain the type of the other use.
In some cases those type variables will be inferred from other constraints,
such as when putting the variants into a list</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[v3', w3']
</code></strong>[V{left='x'},V{right=5}]
</pre><p>In other cases the other tags will be defaulted to (), at least if <code>ExtendedDefaultRules</code> is enabled:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>v3'
</code></strong>V{left='x'}
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XNoExtendedDefaultRules
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>v3'
</code></strong>...
...No instance for (Show ...) arising from a use of &#8216;print&#8217;
...
</pre><p>Another way around this issue is to make sure that the proxy
is bound in a monomorphic pattern. These are patterns that allow
name shadowing.</p><ul><li><pre>p -&gt; ...</pre></li><li><pre>case e of p -&gt; ...</pre></li><li><pre>do p &lt;- e; ...</pre></li><li>implicit parameters <code>let ?p = e in ...</code></li><li><a href="http://stackoverflow.com/questions/23899279#23899611">other patterns involved in mutually recursive bindings</a></li></ul><p>An example of the case:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:{
</code></strong>let (v3,w3) = case p3 of
              p -&gt; (mkVariant _left 'x' p,
                    mkVariant _right (5 :: Int) p)
:}
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t v3
</code></strong>v3 :: Variant '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; Int]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t w3
</code></strong>w3 :: Variant '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; Int]
</pre></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Variant" class="def">Variant</a> vs <a href="src/Data-HList-Variant.html#Variant" class="link">Source</a></p><div class="doc"><p><code>Variant vs</code> has an implementation similar to <code>Dynamic</code>, except the
contained value is one of the elements of the <code>vs</code> list, rather than
being one particular instance of <code><a href="../base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>v .!. _right
</code></strong>Nothing
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>v .!. _left
</code></strong>Just 'x'
</pre><p>In some cases the <code>pun</code> quasiquote works with variants,</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let f [pun| left right |] = (left,right)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>f v
</code></strong>(Just 'x',Nothing)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>f w
</code></strong>(Nothing,Just 5)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let add1 v = hMapV (Fun succ :: Fun '[Enum] '()) v
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>f (add1 v)
</code></strong>(Just 'y',Nothing)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>f (add1 w)
</code></strong>(Nothing,Just 6)
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Variant" class="def">Variant</a> !<a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> <a href="../ghc-prim-0.3.1.0/GHC-Prim.html#t:Any">Any</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Variant" class="caption collapser" onclick="toggleSection('i:Variant')">Instances</p><div id="section.i:Variant" class="show"><table><tr><td class="src"><a href="Data-HList-Record.html#t:Relabeled">Relabeled</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-TIC.html#t:TypeIndexed">TypeIndexed</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> <a href="Data-HList-TIC.html#t:TIC">TIC</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:ExtendsVariant">ExtendsVariant</a> b t, <a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> s a, <a href="Data-HList-Variant.html#t:ProjectExtendVariant">ProjectExtendVariant</a> s t, <a href="Data-HList-Record.html#t:HLeftUnion">HLeftUnion</a> b s bs, <a href="Data-HList-Record.html#t:HRLabelSet">HRLabelSet</a> bs, <a href="Data-HList-Record.html#t:HRearrange">HRearrange</a> (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> t) bs t) =&gt; <a href="Data-HList-Labelable.html#t:Projected">Projected</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> s t a b</td><td class="doc"><pre>Prism (Variant s) (Variant t) (Variant a) (Variant b)</pre></td></tr><tr><td class="src"><a href="Data-HList-Variant.html#t:HUpdateVariantAtLabelCxt">HUpdateVariantAtLabelCxt</a> k l e v v' n _e =&gt; <a href="Data-HList-Record.html#t:HUpdateAtLabel">HUpdateAtLabel</a> k <a href="Data-HList-Variant.html#t:Variant">Variant</a> l e v v'</td><td class="doc"><pre>hUpdateAtLabel x e' (mkVariant x e proxy) == mkVariant x e' proxy
hUpdateAtLabel y e' (mkVariant x e proxy) == mkVariant x e  proxy</pre></td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:HPrism">HPrism</a> k x s t a b, (~) (* -&gt; * -&gt; *) to (-&gt;)) =&gt; <a href="Data-HList-Labelable.html#t:Labelable">Labelable</a> k x <a href="Data-HList-Variant.html#t:Variant">Variant</a> s t a b</td><td class="doc"><p>make a <code>Prism (Variant s) (Variant t) a b</code></p></td></tr><tr><td class="src">(<a href="Data-HList-Record.html#t:HasField">HasField</a> k x (<a href="Data-HList-Record.html#t:Record">Record</a> vs) a, <a href="Data-HList-Record.html#t:HFindLabel">HFindLabel</a> k x vs n, <a href="Data-HList-FakePrelude.html#t:HNat2Integral">HNat2Integral</a> n) =&gt; <a href="Data-HList-Record.html#t:HasField">HasField</a> k x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> vs) (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:ApplyAB">ApplyAB</a> f te te', <a href="Data-HList-HList.html#t:HMapCxt">HMapCxt</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> f ((:) * l ls) ((:) * l' ls')) =&gt; <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> f ((:) * te ((:) * l ls)) ((:) * te' ((:) * l' ls'))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:ApplyAB">ApplyAB</a> f te te' =&gt; <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> f ((:) * te ([] *)) ((:) * te' ([] *))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">((~) * le (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> e)), <a href="Data-HList-HListPrelude.html#t:HOccursNot">HOccursNot</a> * (<a href="Data-HList-FakePrelude.html#t:Label">Label</a> k l) (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> v)) =&gt; <a href="Data-HList-HListPrelude.html#t:HExtend">HExtend</a> le (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)</td><td class="doc"><p>Extension for Variants prefers the first value</p><pre>(l .=. Nothing) .*. v = v
(l .=. Just e)  .*. _ = mkVariant l e Proxy</pre></td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:Unvariant">Unvariant</a> ((:) * txy ([] *)) txy, (~) * tx (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t x), (~) * ty (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t y), (~) * txy (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t (x, y))) =&gt; <a href="Data-HList-HListPrelude.html#t:HUnzip">HUnzip</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * tx ([] *)) ((:) * ty ([] *)) ((:) * txy ([] *))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-HListPrelude.html#t:HUnzip">HUnzip</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * x2 xs) ((:) * y2 ys) ((:) * xy2 xys), (~) * tx (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t x), (~) * ty (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t y), (~) * txy (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t (x, y))) =&gt; <a href="Data-HList-HListPrelude.html#t:HUnzip">HUnzip</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * tx ((:) * x2 xs)) ((:) * ty ((:) * y2 ys)) ((:) * txy ((:) * xy2 xys))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="../base-4.7.0.2/Prelude.html#t:Bounded">Bounded</a> x, <a href="../base-4.7.0.2/Prelude.html#t:Bounded">Bounded</a> z, (~) [*] (<a href="Data-HList-HList.html#t:HRevAppR">HRevAppR</a> * ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k1 s x) xs) ([] *)) ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t z) sx), <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k t z ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k1 s x) xs)) =&gt; <a href="../base-4.7.0.2/Prelude.html#t:Bounded">Bounded</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s x) xs))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Prelude.html#t:Enum">Enum</a> x =&gt; <a href="../base-4.7.0.2/Prelude.html#t:Enum">Enum</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s x) ([] *)))</td><td class="doc"><p>While the instances could be written Enum (Variant '[])
Eq/Ord which cannot produce values, so they have instances for
empty variants (<code><a href="Data-HList-Variant.html#v:unsafeEmptyVariant">unsafeEmptyVariant</a></code>). Enum can produce values,
so it is better that <code>fromEnum 0 :: Variant '[]</code> fails with No instance for
<code>Enum (Variant '[])</code> than producing an invalid variant.</p></td></tr><tr><td class="src">(<a href="../base-4.7.0.2/Prelude.html#t:Enum">Enum</a> x, <a href="../base-4.7.0.2/Prelude.html#t:Bounded">Bounded</a> x, <a href="../base-4.7.0.2/Prelude.html#t:Enum">Enum</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * y z))) =&gt; <a href="../base-4.7.0.2/Prelude.html#t:Enum">Enum</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s x) ((:) * y z)))</td><td class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let t = minBound :: Variant '[Tagged &quot;x&quot; Bool, Tagged &quot;y&quot; Bool]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[t .. maxBound]
</code></strong>[V{x=False},V{x=True},V{y=False},V{y=True}]
</pre><dl><dt><code>Odd behavior</code></dt><dd>There are some arguments that this instance should not exist.</dd></dl><p>The last type in the Variant does not need to be Bounded. This
means that <code><a href="../base-4.7.0.2/Prelude.html#v:enumFrom">enumFrom</a></code> behaves a bit unexpectedly:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[False .. ]
</code></strong>[False,True]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[t .. ]
</code></strong>[V{x=False},V{x=True},V{y=False},V{y=True},V{y=*** Exception: Prelude.Enum.Bool.toEnum: bad argument
</pre><p>This is a &quot;feature&quot; because it allows an <code>Enum (Variant '[Tagged &quot;a&quot; Bool, Tagged &quot;n&quot; <code><a href="../base-4.7.0.2/Prelude.html#t:Integer">Integer</a></code>])</code></p><p>Another difficult choice is that the lower bound is <code>fromEnum 0</code> rather than <code>minBound</code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 [ minBound :: Variant '[Tagged &quot;b&quot; Bool, Tagged &quot;i&quot; Int] .. ]
</code></strong>[V{b=False},V{b=True},V{i=0},V{i=1},V{i=2}]
</pre></td></tr><tr><td class="src">(<a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xs), <a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> x) =&gt; <a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * x xs))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ([] *))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="../base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v), <a href="Data-HList-Variant.html#t:GfoldlVariant">GfoldlVariant</a> v v, <a href="Data-HList-Variant.html#t:GunfoldVariant">GunfoldVariant</a> v v, <a href="Data-HList-Variant.html#t:VariantConstrs">VariantConstrs</a> v) =&gt; <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> x, <a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xs)) =&gt; <a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * x xs))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ([] *))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-Variant.html#t:ReadVariant">ReadVariant</a> v =&gt; <a href="../base-4.7.0.2/Text-Read.html#t:Read">Read</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)</td><td class="doc"><p>A corresponding read instance</p></td></tr><tr><td class="src"><a href="Data-HList-Variant.html#t:ShowVariant">ShowVariant</a> vs =&gt; <a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> vs)</td><td class="doc"><p>Variants are not opaque</p></td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:Monoid">Monoid</a> x, <a href="Data-HList-FakePrelude.html#t:Monoid">Monoid</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * a b))) =&gt; <a href="Data-HList-FakePrelude.html#t:Monoid">Monoid</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t x) ((:) * a b)))</td><td class="doc"><p>XXX check this mappend is legal</p></td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:Unvariant">Unvariant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t x) ([] *)) x, <a href="Data-HList-FakePrelude.html#t:Monoid">Monoid</a> x) =&gt; <a href="Data-HList-FakePrelude.html#t:Monoid">Monoid</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t x) ([] *)))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> * * s a, <a href="Data-HList-Variant.html#t:ExtendsVariant">ExtendsVariant</a> s a, <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> * * b t, <a href="Data-HList-Variant.html#t:ExtendsVariant">ExtendsVariant</a> b t) =&gt; <a href="Data-HList-Record.html#t:Rearranged">Rearranged</a> [*] <a href="Data-HList-Variant.html#t:Variant">Variant</a> s t a b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="../base-4.7.0.2/Data-Typeable-Internal.html#t:Typeable">Typeable</a> ([*] -&gt; *) <a href="Data-HList-Variant.html#t:Variant">Variant</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Data-HList-Labelable.html#t:LabelableTy">LabelableTy</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> = <a href="Data-HList-Labelable.html#v:LabelablePrism">LabelablePrism</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Data-HList-HListPrelude.html#t:HExtendR">HExtendR</a> le (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v) = <a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="Data-HList-Variant.html#t:UnMaybe">UnMaybe</a> le) v)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:4">Unsafe operations</h2><div class="top"><p class="src"><a name="v:unsafeMkVariant" class="def">unsafeMkVariant</a> <a href="src/Data-HList-Variant.html#unsafeMkVariant" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>n</p></td></tr><tr><td class="src">-&gt; v</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> vs</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This is only safe if the n'th element of vs has type <code>Tagged t v</code></p></div></div><div class="top"><p class="src"><a name="v:unsafeCastVariant" class="def">unsafeCastVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v' <a href="src/Data-HList-Variant.html#unsafeCastVariant" class="link">Source</a></p><div class="doc"><p>Safe when (e ~ e') given that</p><pre>Tagged t e ~ HLookupByHNatR n v
Tagged t' e' ~ HLookupByHNatR n v'</pre><p><code><a href="Data-HList-Record.html#v:hUpdateAtLabel">hUpdateAtLabel</a></code> is the safe version</p></div></div><div class="top"><p class="src"><a name="v:castVariant" class="def">castVariant</a> :: (<a href="Data-HList-Record.html#t:RecordValuesR">RecordValuesR</a> v ~ <a href="Data-HList-Record.html#t:RecordValuesR">RecordValuesR</a> v', <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> v v') =&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v' <a href="src/Data-HList-Variant.html#castVariant" class="link">Source</a></p><div class="doc"><p>in ghc&gt;=7.8, <code><a href="../base-4.7.0.2/Data-Coerce.html#v:coerce">coerce</a></code> is probably a better choice</p></div></div><div class="top"><p class="src"><a name="v:unsafeUnVariant" class="def">unsafeUnVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; e <a href="src/Data-HList-Variant.html#unsafeUnVariant" class="link">Source</a></p><div class="doc"><p>private destructor. This is safe only if the value
 contained actually has type <code>e</code></p></div></div><div class="top"><p class="src"><a name="v:unsafeEmptyVariant" class="def">unsafeEmptyVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> [] <a href="src/Data-HList-Variant.html#unsafeEmptyVariant" class="link">Source</a></p><div class="doc"><p>This function is unsafe because it can lead to a runtime error
when used together with the <code><a href="Data-HList-HListPrelude.html#t:HExtend">HExtend</a></code> instance (.*.)</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>print $ (Label :: Label &quot;x&quot;) .=. (Nothing :: Maybe ()) .*. unsafeEmptyVariant
</code></strong>V{*** Exception: invalid variant
</pre><p>use <code><a href="Data-HList-Variant.html#v:mkVariant1">mkVariant1</a></code> instead</p></div></div><h1 id="g:5">Public constructor</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-Record.html#t:HasField">HasField</a> x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> vs) (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> v) =&gt; <a name="t:MkVariant" class="def">MkVariant</a> x v vs | x vs -&gt; v <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#MkVariant" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:mkVariant" class="def">mkVariant</a> <a href="src/Data-HList-Variant.html#mkVariant" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Data-HList-FakePrelude.html#t:Label">Label</a> x</td><td class="doc"><p>the tag</p></td></tr><tr><td class="src">-&gt; v</td><td class="doc"><p>value to be stored</p></td></tr><tr><td class="src">-&gt; proxy vs</td><td class="doc"><p>a helper to fix the ordering and types of the
 potential values that this variant contains.
 Typically this will be a <code><a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a></code>, <code><a href="Data-HList-Record.html#t:Record">Record</a></code> or
 another <code><a href="Data-HList-Variant.html#t:Variant">Variant</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> vs</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="subs instances"><p id="control.i:MkVariant" class="caption collapser" onclick="toggleSection('i:MkVariant')">Instances</p><div id="section.i:MkVariant" class="show"><table><tr><td class="src">(<a href="Data-HList-Record.html#t:HFindLabel">HFindLabel</a> k x vs n, <a href="Data-HList-FakePrelude.html#t:HNat2Integral">HNat2Integral</a> n, <a href="Data-HList-Record.html#t:HasField">HasField</a> k x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> vs) (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> v)) =&gt; <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k x v vs</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:mkVariant1" class="def">mkVariant1</a> :: <a href="Data-HList-FakePrelude.html#t:Label">Label</a> k l -&gt; e -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l e) ([] *)) <a href="src/Data-HList-Variant.html#mkVariant1" class="link">Source</a></p></div><h1 id="g:6">Public destructor</h1><div class="doc"><p><code><a href="Data-HList-Record.html#v:hLookupByLabel">hLookupByLabel</a></code> (synonym <code><a href="Data-HList-Record.html#v:.-33-.">.!.</a></code>)</p><pre>(.!.)             :: Variant v -&gt; Label x -&gt; Maybe e
hLookupByLabel    :: Label x -&gt; Variant v -&gt; Maybe e</pre><p><code><a href="Data-HList-Variant.html#v:hPrism">hPrism</a></code> and <code>hLens'</code> combine this with <code><a href="Data-HList-Variant.html#v:mkVariant">mkVariant</a></code></p></div><div class="top"><p class="src"><a name="v:splitVariant1" class="def">splitVariant1</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> s x : xs) -&gt; <a href="../base-4.7.0.2/Data-Either.html#t:Either">Either</a> x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xs) <a href="src/Data-HList-Variant.html#splitVariant1" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:splitVariant1-39-" class="def">splitVariant1'</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> (x : xs) -&gt; <a href="../base-4.7.0.2/Data-Either.html#t:Either">Either</a> x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xs) <a href="src/Data-HList-Variant.html#splitVariant1%27" class="link">Source</a></p><div class="doc"><p>x ~ Tagged s t</p></div></div><div class="top"><p class="src"><a name="v:extendVariant" class="def">extendVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> l -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> (e : l) <a href="src/Data-HList-Variant.html#extendVariant" class="link">Source</a></p></div><h1 id="g:7">Prism</h1><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> s t, <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> s t) =&gt; <a name="t:HPrism" class="def">HPrism</a> x s t a b | x s -&gt; a, x t -&gt; b, x s b -&gt; t, x t a -&gt; s <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#HPrism" class="link">Source</a></p><div class="doc"><p>Make a <code>Prism (Variant s) (Variant t) a b</code> out of a Label.</p><p>See <a href="Data-HList-Labelable.html">Data.HList.Labelable</a>.<code>hLens'</code> is a more overloaded version.</p><p>Few type annotations are necessary because of the restriction
that <code>s</code> and <code>t</code> have the same labels in the same order, and to
get &quot;t&quot; the &quot;a&quot; in &quot;s&quot; is replaced with &quot;b&quot;.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:hPrism" class="def">hPrism</a> :: (<a href="../profunctors-4.4.1/Data-Profunctor.html#t:Choice">Choice</a> p, <a href="../base-4.7.0.2/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; <a href="Data-HList-FakePrelude.html#t:Label">Label</a> x -&gt; p a (f b) -&gt; p (<a href="Data-HList-Variant.html#t:Variant">Variant</a> s) (f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> t)) <a href="src/Data-HList-Variant.html#hPrism" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:HPrism" class="caption collapser" onclick="toggleSection('i:HPrism')">Instances</p><div id="section.i:HPrism" class="show"><table><tr><td class="src">(<a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k x b t, <a href="Data-HList-Record.html#t:HasField">HasField</a> k x (<a href="Data-HList-Variant.html#t:Variant">Variant</a> s) (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> a), <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> * * s t, <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> [*] [*] s t, <a href="Data-HList-Record.html#t:H2ProjectByLabels">H2ProjectByLabels</a> ((:) * (<a href="Data-HList-FakePrelude.html#t:Label">Label</a> k x) ([] *)) s si so, <a href="Data-HList-Record.html#t:H2ProjectByLabels">H2ProjectByLabels</a> ((:) * (<a href="Data-HList-FakePrelude.html#t:Label">Label</a> k x) ([] *)) t ti to, (~) [*] so to, <a href="Data-HList-Record.html#t:HUpdateAtLabel">HUpdateAtLabel</a> k <a href="Data-HList-Variant.html#t:Variant">Variant</a> x b s t, <a href="Data-HList-Record.html#t:HUpdateAtLabel">HUpdateAtLabel</a> k <a href="Data-HList-Variant.html#t:Variant">Variant</a> x a t s) =&gt; <a href="Data-HList-Variant.html#t:HPrism">HPrism</a> k x s t a b</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:8">Read</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ShowVariant" class="def">ShowVariant</a> vs <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#ShowVariant" class="link">Source</a></p><div class="doc"><p>helper class for defining the Show instance</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:showVariant" class="def">showVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> vs -&gt; <a href="../base-4.7.0.2/Text-Show.html#t:ShowS">ShowS</a> <a href="src/Data-HList-Variant.html#showVariant" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:ShowVariant" class="caption collapser" onclick="toggleSection('i:ShowVariant')">Instances</p><div id="section.i:ShowVariant" class="show"><table><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:ShowLabel">ShowLabel</a> k l, <a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> v, (~) * lv (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v)) =&gt; <a href="Data-HList-Variant.html#t:ShowVariant">ShowVariant</a> ((:) * lv ([] *))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:ShowLabel">ShowLabel</a> k l, <a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> v, <a href="Data-HList-Variant.html#t:ShowVariant">ShowVariant</a> ((:) * w ws)) =&gt; <a href="Data-HList-Variant.html#t:ShowVariant">ShowVariant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v) ((:) * w ws))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:9">Show</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ReadVariant" class="def">ReadVariant</a> vs <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#ReadVariant" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:readVariant" class="def">readVariant</a> :: <a href="../base-4.7.0.2/Text-ParserCombinators-ReadP.html#t:ReadP">ReadP</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> vs) <a href="src/Data-HList-Variant.html#readVariant" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:ReadVariant" class="caption collapser" onclick="toggleSection('i:ReadVariant')">Instances</p><div id="section.i:ReadVariant" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:ReadVariant">ReadVariant</a> ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:ShowLabel">ShowLabel</a> k l, <a href="../base-4.7.0.2/Text-Read.html#t:Read">Read</a> v, <a href="Data-HList-Variant.html#t:ReadVariant">ReadVariant</a> vs, <a href="Data-HList-HListPrelude.html#t:HOccursNot">HOccursNot</a> * (<a href="Data-HList-FakePrelude.html#t:Label">Label</a> k l) (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> vs)) =&gt; <a href="Data-HList-Variant.html#t:ReadVariant">ReadVariant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v) vs)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:10">Data</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:VariantConstrs" class="def">VariantConstrs</a> xs <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#VariantConstrs" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:variantConstrs" class="def">variantConstrs</a> :: <a href="../base-4.7.0.2/Data-Data.html#t:DataType">DataType</a> -&gt; proxy xs -&gt; [<a href="../base-4.7.0.2/Data-Data.html#t:Constr">Constr</a>] <a href="src/Data-HList-Variant.html#variantConstrs" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:VariantConstrs" class="caption collapser" onclick="toggleSection('i:VariantConstrs')">Instances</p><div id="section.i:VariantConstrs" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:VariantConstrs">VariantConstrs</a> ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:ShowLabel">ShowLabel</a> k l, <a href="Data-HList-Variant.html#t:VariantConstrs">VariantConstrs</a> xs) =&gt; <a href="Data-HList-Variant.html#t:VariantConstrs">VariantConstrs</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l e) xs)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:GunfoldVariant" class="def">GunfoldVariant</a> es v <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#GunfoldVariant" class="link">Source</a></p><div class="doc"><dl><dt><code>implementation of gunfold for Variant</code></dt><dd></dd></dl><p>In ghci</p><pre>:set -ddump-deriv -XDeriveDataTypeable
data X a b c = A a | B b | C c deriving (Data,Typeable)</pre><p>shows that gunfold is defined something like</p><pre>gunfold k z c = case constrIndex c of
      1 -&gt; k (z Ghci1.A)
      2 -&gt; k (z Ghci1.B)
      _ -&gt; k (z Ghci1.C)</pre><p>If we instead had</p><pre>type X a b c = Variant [Tagged &quot;A&quot; a, Tagged &quot;B&quot; b, Tagged &quot;C&quot; c]</pre><p>Then we could write:</p><pre>gunfold1 :: (forall b r. Data b =&gt; (b -&gt; r) -&gt; c r)
         -&gt; Variant [Tagged &quot;A&quot; a, Tagged &quot;B&quot; b, Tagged &quot;C&quot; c]
gunfold1 f c = case constrIndex c of
      1 -&gt; f mkA
      2 -&gt; f mkB
      _ -&gt; f mkC
  where mkA a = mkVariant (Label :: Label &quot;A&quot;) (a :: a) v
        mkB b = mkVariant (Label :: Label &quot;B&quot;) (b :: b) v
        mkC c = mkVariant (Label :: Label &quot;C&quot;) (c :: c) v
        v = Proxy :: Proxy [Tagged &quot;A&quot; a, Tagged &quot;B&quot; b, Tagged &quot;C&quot; c]</pre><p>where <code>f = k.z</code></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:gunfoldVariant" class="def">gunfoldVariant</a> <a href="src/Data-HList-Variant.html#gunfoldVariant" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<span class="keyword">forall</span> b. <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> b =&gt; (b -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v) -&gt; c (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v))</td><td class="doc"><pre>f = k . z</pre></td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> es</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; c (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="subs instances"><p id="control.i:GunfoldVariant" class="caption collapser" onclick="toggleSection('i:GunfoldVariant')">Instances</p><div id="section.i:GunfoldVariant" class="show"><table><tr><td class="src">(<a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k l e v, <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> e, <a href="Data-HList-Variant.html#t:GunfoldVariant">GunfoldVariant</a> ((:) * b bs) v) =&gt; <a href="Data-HList-Variant.html#t:GunfoldVariant">GunfoldVariant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l e) ((:) * b bs)) v</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k l e v, <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> e) =&gt; <a href="Data-HList-Variant.html#t:GunfoldVariant">GunfoldVariant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l e) ([] *)) v</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:GfoldlVariant" class="def">GfoldlVariant</a> xs xs' <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#GfoldlVariant" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:gfoldlVariant" class="def">gfoldlVariant</a> :: (<span class="keyword">forall</span> d b. <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> d =&gt; c (d -&gt; b) -&gt; d -&gt; c b) -&gt; (<span class="keyword">forall</span> g. g -&gt; c g) -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> xs -&gt; c (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xs') <a href="src/Data-HList-Variant.html#gfoldlVariant" class="link">Source</a></p><div class="doc"><p>the same as <code><a href="../base-4.7.0.2/Data-Data.html#v:gfoldl">gfoldl</a></code>, except the variant that is returned can have more
 possible values (needed to actually implement gfoldl).</p></div></div><div class="subs instances"><p id="control.i:GfoldlVariant" class="caption collapser" onclick="toggleSection('i:GfoldlVariant')">Instances</p><div id="section.i:GfoldlVariant" class="show"><table><tr><td class="src">(<a href="Data-HList-Variant.html#t:Unvariant">Unvariant</a> ((:) * a ([] *)) v, (~) * a (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v), <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> v, <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k l v b) =&gt; <a href="Data-HList-Variant.html#t:GfoldlVariant">GfoldlVariant</a> ((:) * a ([] *)) b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">((~) * a (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v), <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k l v r, <a href="../base-4.7.0.2/Data-Data.html#t:Data">Data</a> v, <a href="Data-HList-Variant.html#t:GfoldlVariant">GfoldlVariant</a> ((:) * b c) r) =&gt; <a href="Data-HList-Variant.html#t:GfoldlVariant">GfoldlVariant</a> ((:) * a ((:) * b c)) r</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:11">Map</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:HMapV" class="def">HMapV</a> f <a href="src/Data-HList-Variant.html#HMapV" class="link">Source</a></p><div class="doc"><p>Apply a function to all possible elements of the variant</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HMapV" class="def">HMapV</a> f</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:HMapV" class="caption collapser" onclick="toggleSection('i:HMapV')">Instances</p><div id="section.i:HMapV" class="show"><table><tr><td class="src">((~) * vx (<a href="Data-HList-Variant.html#t:Variant">Variant</a> x), (~) * vy (<a href="Data-HList-Variant.html#t:Variant">Variant</a> y), <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> f) x y, <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> * * x y) =&gt; <a href="Data-HList-FakePrelude.html#t:ApplyAB">ApplyAB</a> (<a href="Data-HList-Variant.html#t:HMapV">HMapV</a> f) vx vy</td><td class="doc"><p>apply a function to all values that could be in the variant.</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:hMapV" class="def">hMapV</a> :: (<a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> f) x y, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * y x, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * x y) =&gt; f -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> y <a href="src/Data-HList-Variant.html#hMapV" class="link">Source</a></p><div class="doc"><p>shortcut for <code>applyAB . HMapV</code>. <code><a href="Data-HList-HList.html#v:hMap">hMap</a></code> is more general</p></div></div><div class="top"><p class="src"><a name="v:hMapOutV" class="def">hMapOutV</a> :: <span class="keyword">forall</span> x y z f. (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> x y, <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> f) x y, <a href="Data-HList-Variant.html#t:Unvariant">Unvariant</a> y z, <a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x z ~ y) =&gt; f -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; z <a href="src/Data-HList-Variant.html#hMapOutV" class="link">Source</a></p><div class="doc"><p><code>hMapOutV f = unvariant . hMapV f</code>, except an ambiguous type
 variable is resolved by <code><a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a name="t:HMapOutV_gety" class="def">HMapOutV_gety</a> x z :: [*] <a href="src/Data-HList-Variant.html#HMapOutV_gety" class="link">Source</a></p><div class="doc"><p>resolves an ambiguous type in <code><a href="Data-HList-Variant.html#v:hMapOutV">hMapOutV</a></code></p></div><div class="subs instances"><p id="control.i:HMapOutV_gety" class="caption collapser" onclick="toggleSection('i:HMapOutV_gety')">Instances</p><div id="section.i:HMapOutV_gety" class="show"><table><tr><td class="src"><span class="keyword">type</span> <a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> ([] *) z = [] *</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s x) xs) z = (:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s z) (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> xs z)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:12">HUpdateAtLabel instance</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:HUpdateVariantAtLabelCxt" class="def">HUpdateVariantAtLabelCxt</a> l e v v' n _e = (<a href="Data-HList-Record.html#t:HFindLabel">HFindLabel</a> l v n, <a href="Data-HList-Record.html#t:HFindLabel">HFindLabel</a> l v' n, <a href="Data-HList-HArray.html#t:HUpdateAtHNatR">HUpdateAtHNatR</a> n (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> l e) v ~ v', <a href="Data-HList-Record.html#t:HasField">HasField</a> l (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v) (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> _e), <a href="Data-HList-Record.html#t:HasField">HasField</a> l (<a href="Data-HList-Record.html#t:Record">Record</a> v') e, <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> l e v') <a href="src/Data-HList-Variant.html#HUpdateVariantAtLabelCxt" class="link">Source</a></p></div><h1 id="g:13">HExtend instance</h1><div class="top"><p class="src"><span class="keyword">type family</span> <a name="t:UnMaybe" class="def">UnMaybe</a> le <a href="src/Data-HList-Variant.html#UnMaybe" class="link">Source</a></p><div class="subs instances"><p id="control.i:UnMaybe" class="caption collapser" onclick="toggleSection('i:UnMaybe')">Instances</p><div id="section.i:UnMaybe" class="show"><table><tr><td class="src"><span class="keyword">type</span> <a href="Data-HList-Variant.html#t:UnMaybe">UnMaybe</a> (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> e) = e</td><td class="doc"><p>used for <code><a href="Data-HList-HListPrelude.html#t:HExtend">HExtend</a></code> <code>TIP</code></p></td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Data-HList-Variant.html#t:UnMaybe">UnMaybe</a> (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> e)) = <a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l e</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:14">Conversion to an untagged value</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HAllEqVal" class="def">HAllEqVal</a> x b | x -&gt; b <a href="src/Data-HList-Variant.html#HAllEqVal" class="link">Source</a></p><div class="subs instances"><p id="control.i:HAllEqVal" class="caption collapser" onclick="toggleSection('i:HAllEqVal')">Instances</p><div id="section.i:HAllEqVal" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ([] *) <a href="../base-4.7.0.2/Data-Bool.html#v:True">True</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ((:) * x ([] *)) <a href="../base-4.7.0.2/Data-Bool.html#v:True">True</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:HEq">HEq</a> * a a' b, <a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k1 t a') xs) b2, (~) <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> (<a href="Data-HList-FakePrelude.html#t:HAnd">HAnd</a> b b2) b3) =&gt; <a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s a) ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t a') xs)) b3</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:HAllEqVal-39-" class="def">HAllEqVal'</a> x <a href="src/Data-HList-Variant.html#HAllEqVal%27" class="link">Source</a></p><div class="subs instances"><p id="control.i:HAllEqVal-39-" class="caption collapser" onclick="toggleSection('i:HAllEqVal-39-')">Instances</p><div id="section.i:HAllEqVal-39-" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:HAllEqVal-39-">HAllEqVal'</a> ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:HAllEqVal-39-">HAllEqVal'</a> ((:) * ta xs), (~) * a' a, (~) * ta (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t a), (~) * ta' (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k1 t' a')) =&gt; <a href="Data-HList-Variant.html#t:HAllEqVal-39-">HAllEqVal'</a> ((:) * ta' ((:) * ta xs))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-Variant.html#t:HAllEqVal-39-">HAllEqVal'</a> ((:) * x ([] *))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Unvariant-39-" class="def">Unvariant'</a> v e | v -&gt; e <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#Unvariant%27" class="link">Source</a></p><div class="doc"><p>Similar to <code><a href="Data-HList-Variant.html#v:unvariant">unvariant</a></code>, except type variables in <code>v</code>
will be made equal to <code>e</code> if possible. That allows the type
of <code>Nothing</code> to be inferred as <code>Maybe Char</code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>unvariant' $ x .=. Nothing .*. mkVariant1 y 'y'
</code></strong>'y'
</pre><p>However, this difference leads to more local error messages
(<code>Couldn't match type &#8216;()&#8217; with &#8216;Char&#8217;</code>), rather than the following
with <code>unvariant</code>:</p><pre>Fail
   '(&quot;Variant&quot;,
     '[Tagged &quot;left&quot; Char, Tagged &quot;right&quot; ()],
     &quot;must have all values equal to &quot;,
     e))</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:unvariant-39-" class="def">unvariant'</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; e <a href="src/Data-HList-Variant.html#unvariant%27" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:Unvariant-39-" class="caption collapser" onclick="toggleSection('i:Unvariant-39-')">Instances</p><div id="section.i:Unvariant-39-" class="show"><table><tr><td class="src">(<a href="Data-HList-Variant.html#t:HAllEqVal-39-">HAllEqVal'</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> * () e) v), <a href="Data-HList-Variant.html#t:Unvariant">Unvariant</a> v e) =&gt; <a href="Data-HList-Variant.html#t:Unvariant-39-">Unvariant'</a> v e</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Unvariant" class="def">Unvariant</a> v e | v -&gt; e <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#Unvariant" class="link">Source</a></p><div class="doc"><p>Convert a Variant which has all possibilities having the same type
into a value of that type. Analogous to <code>either id id</code>.</p><p>See also <code><a href="Data-HList-Variant.html#v:unvariant-39-">unvariant'</a></code> </p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:unvariant" class="def">unvariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; e <a href="src/Data-HList-Variant.html#unvariant" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:Unvariant" class="caption collapser" onclick="toggleSection('i:Unvariant')">Instances</p><div id="section.i:Unvariant" class="show"><table><tr><td class="src">(<a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> b v e, <a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> v b, <a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> * () e) v) b) =&gt; <a href="Data-HList-Variant.html#t:Unvariant">Unvariant</a> v e</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Unvariant1" class="def">Unvariant1</a> b v e | b v -&gt; e <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#Unvariant1" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:unvariant1" class="def">unvariant1</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> b -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; e <a href="src/Data-HList-Variant.html#unvariant1" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:Unvariant1" class="caption collapser" onclick="toggleSection('i:Unvariant1')">Instances</p><div id="section.i:Unvariant1" class="show"><table><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:Fail">Fail</a> <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;Unvariant applied to empty variant&quot; =&gt; <a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> k b ([] *) (<a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.7.0.2/GHC-TypeLits.html#t:Symbol">Symbol</a> &quot;Unvariant applied to empty variant&quot;)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(~) * v (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t1 e) =&gt; <a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> <a href="../base-4.7.0.2/Data-Bool.html#v:True">True</a> ((:) * v vs) e</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:Fail">Fail</a> * (<a href="Data-HList-Variant.html#t:UnvariantTypeMismatch">UnvariantTypeMismatch</a> ((:) * v vs)) =&gt; <a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> <a href="../base-4.7.0.2/Data-Bool.html#v:False">False</a> ((:) * v vs) (<a href="Data-HList-Variant.html#t:UnvariantTypeMismatch">UnvariantTypeMismatch</a> ((:) * v vs))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:UnvariantTypeMismatch" class="def">UnvariantTypeMismatch</a> vs <a href="src/Data-HList-Variant.html#UnvariantTypeMismatch" class="link">Source</a></p><div class="subs instances"><p id="control.i:UnvariantTypeMismatch" class="caption collapser" onclick="toggleSection('i:UnvariantTypeMismatch')">Instances</p><div id="section.i:UnvariantTypeMismatch" class="show"><table><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:Fail">Fail</a> * (<a href="Data-HList-Variant.html#t:UnvariantTypeMismatch">UnvariantTypeMismatch</a> ((:) * v vs)) =&gt; <a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> <a href="../base-4.7.0.2/Data-Bool.html#v:False">False</a> ((:) * v vs) (<a href="Data-HList-Variant.html#t:UnvariantTypeMismatch">UnvariantTypeMismatch</a> ((:) * v vs))</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:unvarianted" class="def">unvarianted</a> :: (<a href="Data-HList-Variant.html#t:Unvariant-39-">Unvariant'</a> s a, <a href="Data-HList-Variant.html#t:Unvariant-39-">Unvariant'</a> t b, <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> s t, <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> s t, <a href="../base-4.7.0.2/Control-Monad.html#t:Functor">Functor</a> f) =&gt; (a -&gt; f b) -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> s -&gt; f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> t) <a href="src/Data-HList-Variant.html#unvarianted" class="link">Source</a></p><div class="doc"><pre>Lens (Variant s) (Variant t) a b</pre><p>Analogue of <code>Control.Lens.chosen :: Lens (Either a a) (Either b b) a b</code></p></div></div><div class="top"><p class="src"><a name="v:unvarianted-39-" class="def">unvarianted'</a> :: (<a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> * () b) s) b1, <a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> s b1, <a href="Data-HList-Variant.html#t:HAllEqVal-39-">HAllEqVal'</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> * () b) s), <a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> b1 s b, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * s s, <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> [*] [*] s s, <a href="../base-4.7.0.2/Control-Monad.html#t:Functor">Functor</a> f) =&gt; (b -&gt; f b) -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> s -&gt; f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> s) <a href="src/Data-HList-Variant.html#unvarianted%27" class="link">Source</a></p><div class="doc"><pre>Lens' (Variant s) a</pre><p>where we might have <code>s ~ '[Tagged t1 a, Tagged t2 a]</code></p></div></div><h1 id="g:15">Zip</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ZipVariant" class="def">ZipVariant</a> x y xy | x y -&gt; xy, xy -&gt; x y <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#ZipVariant" class="link">Source</a></p><div class="doc"><p>Applies to variants that have the same labels
in the same order. A generalization of</p><pre>zipEither :: Either a b -&gt; Either a b -&gt; Maybe (Either (a,a) (b,b))
zipEither (Left a) (Left a') = Just (Left (a,a'))
zipEither (Right a) (Right a') = Just (Right (a,a'))
zipEither _ _ = Nothing</pre><p>see <code><a href="Data-HList-HListPrelude.html#t:HZip">HZip</a></code> for zipping other collections</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:zipVariant" class="def">zipVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> y -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> xy) <a href="src/Data-HList-Variant.html#zipVariant" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:ZipVariant" class="caption collapser" onclick="toggleSection('i:ZipVariant')">Instances</p><div id="section.i:ZipVariant" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:ZipVariant">ZipVariant</a> ([] *) ([] *) ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">((~) * tx (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t x), (~) * ty (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t y), (~) * txy (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t (x, y)), <a href="Data-HList-Variant.html#t:ZipVariant">ZipVariant</a> xs ys zs, <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k t (x, y) ((:) * txy zs)) =&gt; <a href="Data-HList-Variant.html#t:ZipVariant">ZipVariant</a> ((:) * tx xs) ((:) * ty ys) ((:) * txy zs)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:16">with a record</h2><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> v v', <a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> v v') =&gt; <a name="t:ZipVR" class="def">ZipVR</a> fs v v' | fs v -&gt; v' <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#ZipVR" class="link">Source</a></p><div class="doc"><p>Apply a record of functions to a variant of values.
The functions are selected based on those having the same
label as the value.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:zipVR_" class="def">zipVR_</a> :: <a href="Data-HList-Record.html#t:Record">Record</a> fs -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v' <a href="src/Data-HList-Variant.html#zipVR_" class="link">Source</a></p><div class="doc"><p><code><a href="Data-HList-Variant.html#v:zipVR">zipVR</a></code> is probably a better choice in most
 situations, since it requires that <code>fs</code> has one function for every
 element of <code>v</code></p></div></div><div class="subs instances"><p id="control.i:ZipVR" class="caption collapser" onclick="toggleSection('i:ZipVR')">Instances</p><div id="section.i:ZipVR" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:ZipVR">ZipVR</a> fs ([] *) ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">((~) * lv (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v), (~) * lv' (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v'), <a href="Data-HList-HList.html#t:HMemberM">HMemberM</a> * (<a href="Data-HList-FakePrelude.html#t:Label">Label</a> k l) (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> fs) b, <a href="Data-HList-Record.html#t:HasFieldM">HasFieldM</a> k l (<a href="Data-HList-Record.html#t:Record">Record</a> fs) f, (~) * (<a href="Data-HList-Record.html#t:DemoteMaybe">DemoteMaybe</a> (v -&gt; v) f) (v -&gt; v'), <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k l v' ((:) * lv' rs), <a href="Data-HList-Variant.html#t:ZipVR">ZipVR</a> fs vs rs) =&gt; <a href="Data-HList-Variant.html#t:ZipVR">ZipVR</a> fs ((:) * lv vs) ((:) * lv' rs)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:zipVR" class="def">zipVR</a> :: (<a href="Data-HList-FakePrelude.html#t:SameLabels">SameLabels</a> fs v, <a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> fs v, <a href="Data-HList-Variant.html#t:ZipVR">ZipVR</a> fs v v', <a href="Data-HList-Variant.html#t:ZipVRCxt">ZipVRCxt</a> fs v v') =&gt; <a href="Data-HList-Record.html#t:Record">Record</a> fs -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v' <a href="src/Data-HList-Variant.html#zipVR" class="link">Source</a></p><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let xy = x .*. y .*. emptyProxy
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let p = Proxy `asLabelsOf` xy
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let vs = [ mkVariant x 1.0 p, mkVariant y () p ]
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>zipVR (hBuild (+1) id) `map` vs
</code></strong>[V{x=2.0},V{y=()}]
</pre></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a name="t:ZipVRCxt" class="def">ZipVRCxt</a> fs xs ys :: <a href="../base-4.7.0.2/GHC-Exts.html#t:Constraint">Constraint</a> <a href="src/Data-HList-Variant.html#ZipVRCxt" class="link">Source</a></p><div class="doc"><p>Lets <code><a href="Data-HList-Variant.html#v:zipVR">zipVR</a></code> act as if <code><code><a href="Data-HList-Variant.html#t:ZipVR">ZipVR</a></code> fs v v'</code> had an FD <code>v v' -&gt; fs</code></p><pre>ZipVRCxt [Tagged s f,  Tagged t g]
         [Tagged s fx, Tagged t gx]
         [Tagged s fy, Tagged t gy]
  = (f ~ (fx -&gt; fy), g ~ (gx -&gt; gy))</pre></div><div class="subs instances"><p id="control.i:ZipVRCxt" class="caption collapser" onclick="toggleSection('i:ZipVRCxt')">Instances</p><div id="section.i:ZipVRCxt" class="show"><table><tr><td class="src"><span class="keyword">type</span> <a href="Data-HList-Variant.html#t:ZipVRCxt">ZipVRCxt</a> ([] *) ([] *) ([] *) = ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="Data-HList-Variant.html#t:ZipVRCxt">ZipVRCxt</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s f) fs) ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s x) xs) ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k s y) ys) = ((~) * f (x -&gt; y), <a href="Data-HList-Variant.html#t:ZipVRCxt">ZipVRCxt</a> fs xs ys)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:17">Eq</h1><h2 id="g:18">Alternative Eq</h2><div class="top"><p class="src"><a name="v:eqVariant" class="def">eqVariant</a> :: (<a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> * () <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>)) b, <a href="Data-HList-Variant.html#t:HAllEqVal">HAllEqVal</a> (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) b, <a href="Data-HList-Variant.html#t:Unvariant1">Unvariant1</a> <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> b (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>, <a href="Data-HList-Variant.html#t:ZipVariant">ZipVariant</a> x1 y x, <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-Variant.html#t:Variant">Variant</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> <a href="Data-HList-Variant.html#t:UncurryEq">UncurryEq</a>) x (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>), <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) x, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * x (<a href="Data-HList-Variant.html#t:HMapOutV_gety">HMapOutV_gety</a> x <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>)) =&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> x1 -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> y -&gt; <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a> <a href="src/Data-HList-Variant.html#eqVariant" class="link">Source</a></p><div class="doc"><p>implemented like <code>and (zipWith (==) xs ys)</code>. Behaves the same as the Eq instances for <code><a href="Data-HList-Variant.html#t:Variant">Variant</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:UncurryEq" class="def">UncurryEq</a> <a href="src/Data-HList-Variant.html#UncurryEq" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:UncurryEq" class="def">UncurryEq</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:UncurryEq" class="caption collapser" onclick="toggleSection('i:UncurryEq')">Instances</p><div id="section.i:UncurryEq" class="show"><table><tr><td class="src">((~) * ee (e, e), <a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> e, (~) * bool <a href="../base-4.7.0.2/Data-Bool.html#t:Bool">Bool</a>) =&gt; <a href="Data-HList-FakePrelude.html#t:ApplyAB">ApplyAB</a> <a href="Data-HList-Variant.html#t:UncurryEq">UncurryEq</a> ee bool</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:19">Ord</h1><h1 id="g:20">Bounded</h1><h1 id="g:21">Enum</h1><h1 id="g:22">Ix (TODO)</h1><h1 id="g:23">Monoid</h1><h1 id="g:24">Projection</h1><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ProjectVariant" class="def">ProjectVariant</a> x y <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#ProjectVariant" class="link">Source</a></p><div class="doc"><p>convert a variant with more fields into one with fewer (or the same)
fields.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let ty = Proxy :: Proxy [Tagged &quot;left&quot; Int, Tagged &quot;right&quot; Int]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let l = mkVariant _left 1 ty
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let r = mkVariant _right 2 ty
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>map projectVariant [l, r] :: [Maybe (Variant '[Tagged &quot;left&quot; Int])]
</code></strong>[Just V{left=1},Nothing]
</pre><p><code><code><a href="Data-HList-Variant.html#v:rearrangeVariant">rearrangeVariant</a></code> = <code>fromJust</code> . <code><a href="Data-HList-Variant.html#v:projectVariant">projectVariant</a></code></code> is one implementation
of <code><a href="Data-HList-Variant.html#v:rearrangeVariant">rearrangeVariant</a></code>, since the result can have the same fields with
a different order:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let yt = Proxy :: Proxy [Tagged &quot;right&quot; Int, Tagged &quot;left&quot; Int]
</code></strong></pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>map projectVariant [l, r] `asTypeOf` [Just (mkVariant _left 0 yt)]
</code></strong>[Just V{left=1},Just V{right=2}]
</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:projectVariant" class="def">projectVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> y) <a href="src/Data-HList-Variant.html#projectVariant" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:ProjectVariant" class="caption collapser" onclick="toggleSection('i:ProjectVariant')">Instances</p><div id="section.i:ProjectVariant" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x ys, <a href="Data-HList-Record.html#t:HasField">HasField</a> k t (<a href="Data-HList-Variant.html#t:Variant">Variant</a> x) (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> y), <a href="Data-HList-HListPrelude.html#t:HOccursNot">HOccursNot</a> * (<a href="Data-HList-FakePrelude.html#t:Label">Label</a> k t) (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> ys), (~) * ty (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t y)) =&gt; <a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x ((:) * ty ys)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> y =&gt; <a name="t:ProjectExtendVariant" class="def">ProjectExtendVariant</a> x y <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#ProjectExtendVariant" class="link">Source</a></p><div class="doc"><pre>projectExtendVariant = fmap <code><a href="Data-HList-Variant.html#v:extendVariant">extendVariant</a></code> . <code><a href="Data-HList-Variant.html#v:projectVariant">projectVariant</a></code></pre><p>where intermediate variant is as large as possible. Used to implement
<a href="Data-HList-Labelable.html">Data.HList.Labelable</a>.<code>projected</code></p><p>Note that:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let r = projectExtendVariant (mkVariant1 Label 1 :: Variant '[Tagged &quot;x&quot; Int])
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>r :: Maybe (Variant '[Tagged &quot;x&quot; Integer])
</code></strong>Nothing
</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:projectExtendVariant" class="def">projectExtendVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> y) <a href="src/Data-HList-Variant.html#projectExtendVariant" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:ProjectExtendVariant" class="caption collapser" onclick="toggleSection('i:ProjectExtendVariant')">Instances</p><div id="section.i:ProjectExtendVariant" class="show"><table><tr><td class="src"><a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> y =&gt; <a href="Data-HList-Variant.html#t:ProjectExtendVariant">ProjectExtendVariant</a> ([] *) y</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">((~) * lv (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v), <a href="Data-HList-HList.html#t:HMemberM">HMemberM</a> * lv y inY, <a href="Data-HList-Variant.html#t:ProjectExtendVariant-39-">ProjectExtendVariant'</a> inY lv y, <a href="Data-HList-Variant.html#t:ProjectExtendVariant">ProjectExtendVariant</a> xs y) =&gt; <a href="Data-HList-Variant.html#t:ProjectExtendVariant">ProjectExtendVariant</a> ((:) * lv xs) y</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ProjectExtendVariant-39-" class="def">ProjectExtendVariant'</a> inY lv y <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#ProjectExtendVariant%27" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:projectExtendVariant-39-" class="def">projectExtendVariant'</a> :: <a href="../base-4.7.0.2/Data-Proxy.html#t:Proxy">Proxy</a> inY -&gt; lv -&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> y) <a href="src/Data-HList-Variant.html#projectExtendVariant%27" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:ProjectExtendVariant-39-" class="caption collapser" onclick="toggleSection('i:ProjectExtendVariant-39-')">Instances</p><div id="section.i:ProjectExtendVariant-39-" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:ProjectExtendVariant-39-">ProjectExtendVariant'</a> (<a href="../base-4.7.0.2/Data-Maybe.html#v:Nothing">Nothing</a> [*]) lv y</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k l v y, (~) * lv (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l v)) =&gt; <a href="Data-HList-Variant.html#t:ProjectExtendVariant-39-">ProjectExtendVariant'</a> (<a href="../base-4.7.0.2/Data-Maybe.html#v:Just">Just</a> [*] t) lv y</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x yin, <a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x yout) =&gt; <a name="t:SplitVariant" class="def">SplitVariant</a> x yin yout <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#SplitVariant" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:splitVariant" class="def">splitVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="../base-4.7.0.2/Data-Either.html#t:Either">Either</a> (<a href="Data-HList-Variant.html#t:Variant">Variant</a> yin) (<a href="Data-HList-Variant.html#t:Variant">Variant</a> yout) <a href="src/Data-HList-Variant.html#splitVariant" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:SplitVariant" class="caption collapser" onclick="toggleSection('i:SplitVariant')">Instances</p><div id="section.i:SplitVariant" class="show"><table><tr><td class="src">(<a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x yin, <a href="Data-HList-Variant.html#t:ProjectVariant">ProjectVariant</a> x yout, <a href="Data-HList-Record.html#t:H2ProjectByLabels">H2ProjectByLabels</a> (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> yin) x xi xo, <a href="Data-HList-Record.html#t:HRearrange">HRearrange</a> (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> yin) xi yin, <a href="Data-HList-Record.html#t:HRearrange">HRearrange</a> (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> yout) xo yout, <a href="Data-HList-Record.html#t:HLeftUnion">HLeftUnion</a> xi xo xixo, <a href="Data-HList-Record.html#t:HRearrange">HRearrange</a> (<a href="Data-HList-Record.html#t:LabelsOf">LabelsOf</a> x) xixo x, <a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> x, <a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> yin, <a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> yout) =&gt; <a href="Data-HList-Variant.html#t:SplitVariant">SplitVariant</a> x yin yout</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> y, <a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> x) =&gt; <a name="t:ExtendsVariant" class="def">ExtendsVariant</a> x y <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#ExtendsVariant" class="link">Source</a></p><div class="doc"><p><code>projectVariant . extendsVariant = Just</code> (when the types match up)</p><p><code><a href="Data-HList-Variant.html#v:extendVariant">extendVariant</a></code> is a special case</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:extendsVariant" class="def">extendsVariant</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> x -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> y <a href="src/Data-HList-Variant.html#extendsVariant" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:ExtendsVariant" class="caption collapser" onclick="toggleSection('i:ExtendsVariant')">Instances</p><div id="section.i:ExtendsVariant" class="show"><table><tr><td class="src">(<a href="Data-HList-FakePrelude.html#t:HAllTaggedLV">HAllTaggedLV</a> x, <a href="Data-HList-Variant.html#t:Unvariant">Unvariant</a> ((:) * le ([] *)) e, <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k l e x, (~) * le (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l e)) =&gt; <a href="Data-HList-Variant.html#t:ExtendsVariant">ExtendsVariant</a> ((:) * le ([] *)) x</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k l e y, (~) * le (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k l e), <a href="Data-HList-Variant.html#t:ExtendsVariant">ExtendsVariant</a> ((:) * b bs) y) =&gt; <a href="Data-HList-Variant.html#t:ExtendsVariant">ExtendsVariant</a> ((:) * le ((:) * b bs)) y</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:rearrangeVariant" class="def">rearrangeVariant</a> :: (<a href="Data-HList-FakePrelude.html#t:SameLength">SameLength</a> v v', <a href="Data-HList-Variant.html#t:ExtendsVariant">ExtendsVariant</a> v v') =&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Variant.html#t:Variant">Variant</a> v' <a href="src/Data-HList-Variant.html#rearrangeVariant" class="link">Source</a></p><div class="doc"><p><code>rearrangeVariant</code> is a specialization of <code><a href="Data-HList-Variant.html#v:extendsVariant">extendsVariant</a></code> whose
 result is always . see also <code><a href="Data-HList-Record.html#v:rearranged">rearranged</a></code></p></div></div><div class="top"><p class="src"><a name="v:hMaybied" class="def">hMaybied</a> :: (<a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v1 x, <a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v r, <a href="Data-HList-HList.html#t:HFoldr">HFoldr</a> <a href="Data-HList-Variant.html#t:HMaybiedToVariantFs">HMaybiedToVariantFs</a> [<a href="Data-HList-Variant.html#t:Variant">Variant</a> ([] *)] x [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v1], <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-HList.html#t:HList">HList</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> <a href="Data-HList-Variant.html#t:HCastF">HCastF</a>) x r, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * x r, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * r x, <a href="../profunctors-4.4.1/Data-Profunctor.html#t:Choice">Choice</a> p, <a href="../base-4.7.0.2/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v1) (f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)) -&gt; p (<a href="Data-HList-Record.html#t:Record">Record</a> x) (f (<a href="Data-HList-Record.html#t:Record">Record</a> r)) <a href="src/Data-HList-Variant.html#hMaybied" class="link">Source</a></p><div class="doc"><pre>Prism (Record tma) (Record tmb) (Variant ta) (Variant tb)</pre><p>see <code><a href="Data-HList-Variant.html#v:hMaybied-39-">hMaybied'</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:HCastF" class="def">HCastF</a> <a href="src/Data-HList-Variant.html#HCastF" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HCastF" class="def">HCastF</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:HCastF" class="caption collapser" onclick="toggleSection('i:HCastF')">Instances</p><div id="section.i:HCastF" class="show"><table><tr><td class="src">((~) * mx (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> x), (~) * my (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> y), <a href="Data-HList-FakePrelude.html#t:HCast">HCast</a> y x) =&gt; <a href="Data-HList-FakePrelude.html#t:ApplyAB">ApplyAB</a> <a href="Data-HList-Variant.html#t:HCastF">HCastF</a> mx my</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:hMaybied-39-" class="def">hMaybied'</a> :: (<a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v x, <a href="Data-HList-HList.html#t:HFoldr">HFoldr</a> <a href="Data-HList-Variant.html#t:HMaybiedToVariantFs">HMaybiedToVariantFs</a> [<a href="Data-HList-Variant.html#t:Variant">Variant</a> ([] *)] x [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v], <a href="Data-HList-HList.html#t:HMapAux">HMapAux</a> <a href="Data-HList-HList.html#t:HList">HList</a> (<a href="Data-HList-FakePrelude.html#t:HFmap">HFmap</a> <a href="Data-HList-Variant.html#t:HCastF">HCastF</a>) x x, <a href="Data-HList-FakePrelude.html#t:SameLength-39-">SameLength'</a> * * x x, <a href="../profunctors-4.4.1/Data-Profunctor.html#t:Choice">Choice</a> p, <a href="../base-4.7.0.2/Control-Applicative.html#t:Applicative">Applicative</a> f) =&gt; p (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v) (f (<a href="Data-HList-Variant.html#t:Variant">Variant</a> v)) -&gt; p (<a href="Data-HList-Record.html#t:Record">Record</a> x) (f (<a href="Data-HList-Record.html#t:Record">Record</a> x)) <a href="src/Data-HList-Variant.html#hMaybied%27" class="link">Source</a></p><div class="doc"><pre>Prism' (Record tma) (Variant ta)</pre><p>where <code>tma</code> and <code>tmb</code> are lists like</p><pre>tma ~ '[Tagged x (Maybe a), Tagged y (Maybe b)]
ta  ~ '[Tagged x        a , Tagged y        b ]</pre><p>If one element of the record is Just, the Variant will
contain that element. Otherwise, the prism fails.</p><dl><dt><code>Note</code></dt><dd></dd></dl><p>The types work out to define a prism:</p><pre>l = <code>prism'</code> <code><a href="Data-HList-Variant.html#v:variantToHMaybied">variantToHMaybied</a></code> (<code>listToMaybe</code> . <code><a href="Data-HList-Variant.html#v:hMaybiedToVariants">hMaybiedToVariants</a></code>)</pre><p>but the law: <code>s^?l &#8801; Just a ==&gt; l # a &#8801; s</code> is not followed,
because we could have:</p><pre>  s, s2 :: Record '[Tagged &quot;x&quot; (Maybe Int), Tagged &quot;y&quot; (Maybe Char)]
  s = hBuild (Just 1) (Just '2')
  s2 = hBuild (Just 1) Nothing

  v :: Variant '[Tagged &quot;x&quot; Int, Tagged &quot;y&quot; Char]
  v = mkVariant (Label :: Label &quot;x&quot;) 1 Proxy
</pre><p>So that <code>s^?l == Just v</code>. But <code>l#v == s2 /= s</code>, while the law
requires <code>l#v == s</code>. hMaybied avoids this problem by only
producing a value when there is only one present.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:VariantToHMaybied" class="def">VariantToHMaybied</a> v r | v -&gt; r, r -&gt; v <span class="keyword">where</span> <a href="src/Data-HList-Variant.html#VariantToHMaybied" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:variantToHMaybied" class="def">variantToHMaybied</a> :: <a href="Data-HList-Variant.html#t:Variant">Variant</a> v -&gt; <a href="Data-HList-Record.html#t:Record">Record</a> r <a href="src/Data-HList-Variant.html#variantToHMaybied" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:VariantToHMaybied" class="caption collapser" onclick="toggleSection('i:VariantToHMaybied')">Instances</p><div id="section.i:VariantToHMaybied" class="show"><table><tr><td class="src"><a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> ([] *) ([] *)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v r, <a href="Data-HList-HList.html#t:HReplicateF">HReplicateF</a> nr <a href="Data-HList-Variant.html#t:ConstTaggedNothing">ConstTaggedNothing</a> () r, (~) * tx (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t x), (~) * tmx (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> x))) =&gt; <a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> ((:) * tx v) ((:) * tmx r)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:ConstTaggedNothing" class="def">ConstTaggedNothing</a> <a href="src/Data-HList-Variant.html#ConstTaggedNothing" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ConstTaggedNothing" class="def">ConstTaggedNothing</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:ConstTaggedNothing" class="caption collapser" onclick="toggleSection('i:ConstTaggedNothing')">Instances</p><div id="section.i:ConstTaggedNothing" class="show"><table><tr><td class="src">(~) * y (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> e)) =&gt; <a href="Data-HList-FakePrelude.html#t:ApplyAB">ApplyAB</a> <a href="Data-HList-Variant.html#t:ConstTaggedNothing">ConstTaggedNothing</a> x y</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:hMaybiedToVariants" class="def">hMaybiedToVariants</a> :: (<a href="Data-HList-HList.html#t:HFoldr">HFoldr</a> <a href="Data-HList-Variant.html#t:HMaybiedToVariantFs">HMaybiedToVariantFs</a> [<a href="Data-HList-Variant.html#t:Variant">Variant</a> []] r [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v], <a href="Data-HList-Variant.html#t:VariantToHMaybied">VariantToHMaybied</a> v r) =&gt; <a href="Data-HList-Record.html#t:Record">Record</a> r -&gt; [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v] <a href="src/Data-HList-Variant.html#hMaybiedToVariants" class="link">Source</a></p><div class="doc"><p>Every element of the record that is Just becomes one element
 in the resulting list. See <code><a href="Data-HList-Variant.html#v:hMaybied-39-">hMaybied'</a></code> example types that <code>r</code>
 and <code>v</code> can take.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:HMaybiedToVariantFs" class="def">HMaybiedToVariantFs</a> <a href="src/Data-HList-Variant.html#HMaybiedToVariantFs" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HMaybiedToVariantFs" class="def">HMaybiedToVariantFs</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:HMaybiedToVariantFs" class="caption collapser" onclick="toggleSection('i:HMaybiedToVariantFs')">Instances</p><div id="section.i:HMaybiedToVariantFs" class="show"><table><tr><td class="src">((~) * x (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t (<a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> e), [<a href="Data-HList-Variant.html#t:Variant">Variant</a> v]), (~) * y [<a href="Data-HList-Variant.html#t:Variant">Variant</a> ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t e) v)], <a href="Data-HList-Variant.html#t:MkVariant">MkVariant</a> k t e ((:) * (<a href="../tagged-0.7.3/Data-Tagged.html#t:Tagged">Tagged</a> k t e) v)) =&gt; <a href="Data-HList-FakePrelude.html#t:ApplyAB">ApplyAB</a> <a href="Data-HList-Variant.html#t:HMaybiedToVariantFs">HMaybiedToVariantFs</a> x y</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.15.0.2</p></div></body></html>