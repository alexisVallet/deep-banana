<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Vision.Histogram</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Vision-Histogram.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Vision-Histogram.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">friday-0.2.2.0: A functional image processing library for Haskell.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Vision.Histogram</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Types &amp; helpers</a></li><li><a href="#g:2">Histogram computations</a></li><li><a href="#g:3">Images processing</a></li><li><a href="#g:4">Histogram comparisons</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Contains functions to compute and manipulate histograms as well as some
 images transformations which are histogram-based.</p><p>Every polymorphic function is specialised for histograms of <code><a href="../base-4.7.0.2/Data-Int.html#t:Int32">Int32</a></code>, <code><a href="../base-4.7.0.2/Prelude.html#t:Double">Double</a></code>
 and <code><a href="../base-4.7.0.2/Prelude.html#t:Float">Float</a></code>. Other types can be specialized as every polymorphic function is
 declared <code>INLINABLE</code>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Histogram">Histogram</a> sh a = <a href="#v:Histogram">Histogram</a> {<ul class="subs"><li><a href="#v:shape">shape</a> :: !sh</li><li><a href="#v:vector">vector</a> :: !(<a href="../vector-0.10.12.3/Data-Vector-Storable.html#t:Vector">Vector</a> a)</li></ul>}</li><li class="src short"><span class="keyword">class</span> <a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="#t:HistogramShape">HistogramShape</a> sh <span class="keyword">where</span><ul class="subs"><li><a href="#v:toBin">toBin</a> :: sh -&gt; sh -&gt; sh -&gt; sh</li></ul></li><li class="src short"><span class="keyword">class</span> (<a href="Vision-Image-Class.html#t:Pixel">Pixel</a> p, <a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p)) =&gt; <a href="#t:ToHistogram">ToHistogram</a> p <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:PixelValueSpace">PixelValueSpace</a> p</li><li><a href="#v:pixToIndex">pixToIndex</a> :: p -&gt; <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p</li><li><a href="#v:domainSize">domainSize</a> :: p -&gt; <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p</li></ul></li><li class="src short"><a href="#v:index">index</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; sh -&gt; a</li><li class="src short"><a href="#v:-33-">(!)</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; sh -&gt; a</li><li class="src short"><a href="#v:linearIndex">linearIndex</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; a</li><li class="src short"><a href="#v:map">map</a> :: (<a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> b) =&gt; (a -&gt; b) -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh b</li><li class="src short"><a href="#v:assocs">assocs</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; [(sh, a)]</li><li class="src short"><a href="#v:pixToBin">pixToBin</a> :: (<a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p), <a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> p) =&gt; <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p -&gt; p -&gt; <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p</li><li class="src short"><a href="#v:histogram">histogram</a> :: (<a href="Vision-Image-Class.html#t:MaskedImage">MaskedImage</a> i, <a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i), <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a, <a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i))) =&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i)) -&gt; i -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i)) a</li><li class="src short"><a href="#v:histogram2D">histogram2D</a> :: (<a href="Vision-Image-Class.html#t:Image">Image</a> i, <a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i), <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a, <a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i))) =&gt; ((<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) -&gt; i -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> ((<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) a</li><li class="src short"><a href="#v:reduce">reduce</a> :: (<a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> ((sh <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a</li><li class="src short"><a href="#v:resize">resize</a> :: (<a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a) =&gt; sh -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a</li><li class="src short"><a href="#v:cumulative">cumulative</a> :: (<a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a> a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a> a</li><li class="src short"><a href="#v:normalize">normalize</a> :: (<a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Real">Real</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> b, <a href="../base-4.7.0.2/Prelude.html#t:Fractional">Fractional</a> b) =&gt; b -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh b</li><li class="src short"><a href="#v:equalizeImage">equalizeImage</a> :: (<a href="Vision-Image-Class.html#t:FunctorImage">FunctorImage</a> i i, <a href="../base-4.7.0.2/Prelude.html#t:Integral">Integral</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i), <a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i), <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i) ~ <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a>) =&gt; i -&gt; i</li><li class="src short"><a href="#v:compareCorrel">compareCorrel</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Real">Real</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> b, <a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> b, <a href="../base-4.7.0.2/Prelude.html#t:Floating">Floating</a> b) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; b</li><li class="src short"><a href="#v:compareChi">compareChi</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Real">Real</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> b, <a href="../base-4.7.0.2/Prelude.html#t:Fractional">Fractional</a> b) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; b</li><li class="src short"><a href="#v:compareIntersect">compareIntersect</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a, <a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; a</li><li class="src short"><a href="#v:compareEMD">compareEMD</a> :: (<a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a> a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a> a -&gt; a</li></ul></div><div id="interface"><h1 id="g:1">Types &amp; helpers</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Histogram" class="def">Histogram</a> sh a <a href="src/Vision-Histogram.html#Histogram" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Histogram" class="def">Histogram</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:shape" class="def">shape</a> :: !sh</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:vector" class="def">vector</a> :: !(<a href="../vector-0.10.12.3/Data-Vector-Storable.html#t:Vector">Vector</a> a)</dt><dd class="doc"><p>Values of the histogram in row-major order.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Histogram" class="caption collapser" onclick="toggleSection('i:Histogram')">Instances</p><div id="section.i:Histogram" class="show"><table><tr><td class="src">(<a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> sh, <a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> (<a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> sh, <a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> (<a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> sh, <a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="../base-4.7.0.2/Text-Show.html#t:Show">Show</a> (<a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh =&gt; <a name="t:HistogramShape" class="def">HistogramShape</a> sh <span class="keyword">where</span> <a href="src/Vision-Histogram.html#HistogramShape" class="link">Source</a></p><div class="doc"><p>Subclass of <code><a href="Vision-Primitive-Shape.html#t:Shape">Shape</a></code> which defines how to resize a shape so it will fit
 inside a resized histogram.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toBin" class="def">toBin</a> <a href="src/Vision-Histogram.html#toBin" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: sh</td><td class="doc"><p>The number of bins we are mapping to.</p></td></tr><tr><td class="src">-&gt; sh</td><td class="doc"><p>The number of possible values of the original index.</p></td></tr><tr><td class="src">-&gt; sh</td><td class="doc"><p>The original index.</p></td></tr><tr><td class="src">-&gt; sh</td><td class="doc"><p>The index of the bin in the histogram.</p></td></tr></table></div><div class="doc"><p>Given a number of bins of an histogram, reduces an index so it will be
 mapped to a bin.</p></div></div><div class="subs instances"><p id="control.i:HistogramShape" class="caption collapser" onclick="toggleSection('i:HistogramShape')">Instances</p><div id="section.i:HistogramShape" class="show"><table><tr><td class="src"><a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> <a href="Vision-Primitive-Shape.html#t:Z">Z</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> sh =&gt; <a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> (<a href="Vision-Primitive-Shape.html#t::.">(:.)</a> sh <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> (<a href="Vision-Image-Class.html#t:Pixel">Pixel</a> p, <a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p)) =&gt; <a name="t:ToHistogram" class="def">ToHistogram</a> p <span class="keyword">where</span> <a href="src/Vision-Histogram.html#ToHistogram" class="link">Source</a></p><div class="doc"><p>This class defines how many dimensions a histogram will have and what will
 be the default number of bins.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:PixelValueSpace" class="def">PixelValueSpace</a> p <a href="src/Vision-Histogram.html#PixelValueSpace" class="link">Source</a></p><div class="doc"><p>Gives the value space of a pixel. Single-channel pixels will be <code><a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a></code>
 whereas three-channels pixels will be <code><a href="Vision-Primitive-Shape.html#t:DIM3">DIM3</a></code>.
 This is used to determine the rank of the generated histogram.</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:pixToIndex" class="def">pixToIndex</a> :: p -&gt; <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p <a href="src/Vision-Histogram.html#pixToIndex" class="link">Source</a></p><div class="doc"><p>Converts a pixel to an index.</p></div><p class="src"><a name="v:domainSize" class="def">domainSize</a> :: p -&gt; <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p <a href="src/Vision-Histogram.html#domainSize" class="link">Source</a></p><div class="doc"><p>Returns the maximum number of different values an index can take for
 each dimension of the histogram (aka. the maximum index returned by
 <code><a href="Vision-Histogram.html#v:pixToIndex">pixToIndex</a></code> plus one).</p></div></div><div class="subs instances"><p id="control.i:ToHistogram" class="caption collapser" onclick="toggleSection('i:ToHistogram')">Instances</p><div id="section.i:ToHistogram" class="show"><table><tr><td class="src"><a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> <a href="Vision-Image-Grey-Type.html#t:GreyPixel">GreyPixel</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> <a href="Vision-Image-HSV-Type.html#t:HSVPixel">HSVPixel</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> <a href="Vision-Image-RGBA-Type.html#t:RGBAPixel">RGBAPixel</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> <a href="Vision-Image-RGB-Type.html#t:RGBPixel">RGBPixel</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:index" class="def">index</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; sh -&gt; a <a href="src/Vision-Histogram.html#index" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:-33-" class="def">(!)</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; sh -&gt; a <a href="src/Vision-Histogram.html#%21" class="link">Source</a></p><div class="doc"><p>Alias of <code><a href="Vision-Histogram.html#v:index">index</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:linearIndex" class="def">linearIndex</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a> -&gt; a <a href="src/Vision-Histogram.html#linearIndex" class="link">Source</a></p><div class="doc"><p>Returns the value at the index as if the histogram was a single dimension
 vector (row-major representation).</p></div></div><div class="top"><p class="src"><a name="v:map" class="def">map</a> :: (<a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> b) =&gt; (a -&gt; b) -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh b <a href="src/Vision-Histogram.html#map" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:assocs" class="def">assocs</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; [(sh, a)] <a href="src/Vision-Histogram.html#assocs" class="link">Source</a></p><div class="doc"><p>Returns all index/value pairs from the histogram.</p></div></div><div class="top"><p class="src"><a name="v:pixToBin" class="def">pixToBin</a> :: (<a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p), <a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> p) =&gt; <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p -&gt; p -&gt; <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> p <a href="src/Vision-Histogram.html#pixToBin" class="link">Source</a></p><div class="doc"><p>Given the number of bins of an histogram and a given pixel, returns the
 corresponding bin.</p></div></div><h1 id="g:2">Histogram computations</h1><div class="top"><p class="src"><a name="v:histogram" class="def">histogram</a> :: (<a href="Vision-Image-Class.html#t:MaskedImage">MaskedImage</a> i, <a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i), <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a, <a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i))) =&gt; <a href="../base-4.7.0.2/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i)) -&gt; i -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i)) a <a href="src/Vision-Histogram.html#histogram" class="link">Source</a></p><div class="doc"><p>Computes an histogram from a (possibly) multi-channel image.</p><p>If the size of the histogram is not given, there will be as many bins as the
 range of values of pixels of the original image (see <code><a href="Vision-Histogram.html#v:domainSize">domainSize</a></code>).</p><p>If the size of the histogram is specified, every bin of a given dimension
 will be of the same size (uniform histogram).</p></div></div><div class="top"><p class="src"><a name="v:histogram2D" class="def">histogram2D</a> :: (<a href="Vision-Image-Class.html#t:Image">Image</a> i, <a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i), <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a, <a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> (<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i))) =&gt; ((<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) -&gt; i -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> ((<a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) a <a href="src/Vision-Histogram.html#histogram2D" class="link">Source</a></p><div class="doc"><p>Similar to <code><a href="Vision-Histogram.html#v:histogram">histogram</a></code> but adds two dimensions for the y and x-coordinates
 of the sampled points. This way, the histogram will map different regions of
 the original image.</p><p>For example, an <code>RGB</code> image will be mapped as
 <code><code><a href="Vision-Primitive-Shape.html#t:Z">Z</a></code> <code><a href="Vision-Primitive-Shape.html#t::.">:.</a></code> red channel <code><a href="Vision-Primitive-Shape.html#t::.">:.</a></code> green channel <code><a href="Vision-Primitive-Shape.html#t::.">:.</a></code> blue channel <code><a href="Vision-Primitive-Shape.html#t::.">:.</a></code> y region
 <code><a href="Vision-Primitive-Shape.html#t::.">:.</a></code> x region</code>.</p><p>As there is no reason to create an histogram as large as the number of pixels
 of the image, a size is always needed.</p></div></div><div class="top"><p class="src"><a name="v:reduce" class="def">reduce</a> :: (<a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> ((sh <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) <a href="Vision-Primitive-Shape.html#t::.">:.</a> <a href="../base-4.7.0.2/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a <a href="src/Vision-Histogram.html#reduce" class="link">Source</a></p><div class="doc"><p>Reduces a 2D histogram to its linear representation. See <code><a href="Vision-Histogram.html#v:resize">resize</a></code> for a
 reduction of the number of bins of an histogram.</p><pre><code><a href="Vision-Histogram.html#v:histogram">histogram</a></code> == <code><a href="Vision-Histogram.html#v:reduce">reduce</a></code> . <code><a href="Vision-Histogram.html#v:histogram2D">histogram2D</a></code></pre></div></div><div class="top"><p class="src"><a name="v:resize" class="def">resize</a> :: (<a href="Vision-Histogram.html#t:HistogramShape">HistogramShape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a) =&gt; sh -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a <a href="src/Vision-Histogram.html#resize" class="link">Source</a></p><div class="doc"><p>Resizes an histogram to another index shape. See <code><a href="Vision-Histogram.html#v:reduce">reduce</a></code> for a reduction
 of the number of dimensions of an histogram.</p></div></div><div class="top"><p class="src"><a name="v:cumulative" class="def">cumulative</a> :: (<a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a> a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a> a <a href="src/Vision-Histogram.html#cumulative" class="link">Source</a></p><div class="doc"><p>Computes the cumulative histogram of another single dimension histogram.</p><p><code>C(i) = SUM H(j)</code> for each <code>j</code> in <code>[0..i]</code> where <code>C</code> is the cumulative
 histogram, and <code>H</code> the original histogram.</p></div></div><div class="top"><p class="src"><a name="v:normalize" class="def">normalize</a> :: (<a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Real">Real</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> b, <a href="../base-4.7.0.2/Prelude.html#t:Fractional">Fractional</a> b) =&gt; b -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh b <a href="src/Vision-Histogram.html#normalize" class="link">Source</a></p><div class="doc"><p>Normalizes the histogram so that the sum of the histogram bins is equal to
 the given value (normalisation by the <code>L1</code> norm).</p><p>This is useful to compare two histograms which have been computed from images
 with a different number of pixels.</p></div></div><h1 id="g:3">Images processing</h1><div class="top"><p class="src"><a name="v:equalizeImage" class="def">equalizeImage</a> :: (<a href="Vision-Image-Class.html#t:FunctorImage">FunctorImage</a> i i, <a href="../base-4.7.0.2/Prelude.html#t:Integral">Integral</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i), <a href="Vision-Histogram.html#t:ToHistogram">ToHistogram</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i), <a href="Vision-Histogram.html#t:PixelValueSpace">PixelValueSpace</a> (<a href="Vision-Image-Class.html#t:ImagePixel">ImagePixel</a> i) ~ <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a>) =&gt; i -&gt; i <a href="src/Vision-Histogram.html#equalizeImage" class="link">Source</a></p><div class="doc"><p>Equalizes a single channel image by equalising its histogram.</p><p>The algorithm equalizes the brightness and increases the contrast of the
 image by mapping each pixel values to the value at the index of the
 cumulative <code>L1</code>-normalized histogram :</p><p><code>N(x, y) = H(I(x, y))</code> where <code>N</code> is the equalized image, <code>I</code> is the image and
 <code>H</code> the cumulative of the histogram normalized over an <code>L1</code> norm.</p><p>See <a href="https://en.wikipedia.org/wiki/Histogram_equalization">https://en.wikipedia.org/wiki/Histogram_equalization</a>.</p></div></div><h1 id="g:4">Histogram comparisons</h1><div class="top"><p class="src"><a name="v:compareCorrel" class="def">compareCorrel</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Real">Real</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> b, <a href="../base-4.7.0.2/Data-Eq.html#t:Eq">Eq</a> b, <a href="../base-4.7.0.2/Prelude.html#t:Floating">Floating</a> b) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; b <a href="src/Vision-Histogram.html#compareCorrel" class="link">Source</a></p><div class="doc"><p>Computes the <em>Pearson's correlation coefficient</em> between each
 corresponding bins of the two histograms.</p><p>A value of 1 implies a perfect correlation, a value of -1 a perfect
 opposition and a value of 0 no correlation at all.</p><pre><code><a href="Vision-Histogram.html#v:compareCorrel">compareCorrel</a></code> = SUM  [ (H1(i) - &#181;(H1)) (H1(2) - &#181;(H2)) ]
                  / (   SQRT [ SUM [ (H1(i) - &#181;(H1))^2 ] ]
                      * SQRT [ SUM [ (H2(i) - &#181;(H2))^2 ] ] )</pre><p>Where <code>&#181;(H)</code> is the average value of the histogram <code>H</code>.</p><p>See <a href="http://en.wikipedia.org/wiki/Pearson_correlation_coefficient">http://en.wikipedia.org/wiki/Pearson_correlation_coefficient</a>.</p></div></div><div class="top"><p class="src"><a name="v:compareChi" class="def">compareChi</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Real">Real</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> b, <a href="../base-4.7.0.2/Prelude.html#t:Fractional">Fractional</a> b) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; b <a href="src/Vision-Histogram.html#compareChi" class="link">Source</a></p><div class="doc"><p>Computes the Chi-squared distance between two histograms.</p><p>A value of 0 indicates a perfect match.</p><p><code><code><a href="Vision-Histogram.html#v:compareChi">compareChi</a></code> = SUM (d(i))</code> for each indice <code>i</code> of the histograms where
 <code>d(i) = 2 * ((H1(i) - H2(i))^2 / (H1(i) + H2(i)))</code>.</p></div></div><div class="top"><p class="src"><a name="v:compareIntersect" class="def">compareIntersect</a> :: (<a href="Vision-Primitive-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a, <a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a, <a href="../base-4.7.0.2/Data-Ord.html#t:Ord">Ord</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> sh a -&gt; a <a href="src/Vision-Histogram.html#compareIntersect" class="link">Source</a></p><div class="doc"><p>Computes the intersection of the two histograms.</p><p>The higher the score is, the best the match is.</p><p><code><code><a href="Vision-Histogram.html#v:compareIntersect">compareIntersect</a></code> = SUM (min(H1(i), H2(i))</code> for each indice <code>i</code> of the
 histograms.</p></div></div><div class="top"><p class="src"><a name="v:compareEMD" class="def">compareEMD</a> :: (<a href="../base-4.7.0.2/Prelude.html#t:Num">Num</a> a, <a href="../base-4.7.0.2/Foreign-Storable.html#t:Storable">Storable</a> a) =&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a> a -&gt; <a href="Vision-Histogram.html#t:Histogram">Histogram</a> <a href="Vision-Primitive-Shape.html#t:DIM1">DIM1</a> a -&gt; a <a href="src/Vision-Histogram.html#compareEMD" class="link">Source</a></p><div class="doc"><p>Computed the <em>Earth mover's distance</em> between two histograms.</p><p>Current algorithm only supports histograms of one dimension.</p><p>See <a href="https://en.wikipedia.org/wiki/Earth_mover's_distance">https://en.wikipedia.org/wiki/Earth_mover's_distance</a>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.15.0.2</p></div></body></html>