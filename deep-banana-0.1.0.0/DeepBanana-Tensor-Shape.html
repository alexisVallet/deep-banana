<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DeepBanana.Tensor.Shape</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_DeepBanana-Tensor-Shape.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/DeepBanana-Tensor-Shape.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">deep-banana-0.1.0.0: A GPU accelerated deep learning library.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">DeepBanana.Tensor.Shape</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Shape datatypes</a></li><li><a href="#g:2">Shape type classes</a></li><li><a href="#g:3">Converting from fixed to dynamic shape</a></li><li><a href="#g:4">Re-exports</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Shape datatypes for tensors.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Dim">Dim</a> n = <a href="DeepBanana-HList.html#t:SizedList">SizedList</a> n <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Fixed">Fixed</a> l = <a href="DeepBanana-HList.html#t:HList">HList</a> (<a href="DeepBanana-Tensor-Shape.html#t:Fixed-39-">Fixed'</a> l)</li><li class="src short"><span class="keyword">class</span> (<a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> s, <a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> s, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> s, <a href="../cereal-0.5.1.0/Data-Serialize.html#t:Serialize">Serialize</a> s, <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> s) =&gt; <a href="#t:Shape">Shape</a> s <span class="keyword">where</span><ul class="subs"><li><a href="#v:dimensions">dimensions</a> :: s -&gt; [<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>]</li><li><a href="#v:scalarShape">scalarShape</a> :: s</li><li><a href="#v:nbdim">nbdim</a> :: s -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:size">size</a> :: s -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li></ul></li><li class="src short"><a href="#v:broadcastable">broadcastable</a> :: (<a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> s1, <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> s2) =&gt; s1 -&gt; s2 -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:FixedShape">FixedShape</a> l <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:Fixed-39-">Fixed'</a> l :: [*]</li><li><span class="keyword">type</span> <a href="#t:Nbdim">Nbdim</a> l :: <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a></li><li><span class="keyword">type</span> <a href="#t:Size">Size</a> l :: <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a></li><li><a href="#v:fixed">fixed</a> :: <a href="../base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> l -&gt; <a href="DeepBanana-HList.html#t:HList">HList</a> (<a href="DeepBanana-Tensor-Shape.html#t:Fixed-39-">Fixed'</a> l)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> s =&gt; <a href="#t:IsFixed">IsFixed</a> s</li><li class="src short"><span class="keyword">data</span> <a href="#t:AnyFixed">AnyFixed</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:AnyFixed">AnyFixed</a> :: <a href="DeepBanana-Tensor-Shape.html#t:IsFixed">IsFixed</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> l) =&gt; <a href="DeepBanana-HList.html#t:HList">HList</a> l -&gt; <a href="DeepBanana-Tensor-Shape.html#t:AnyFixed">AnyFixed</a></li></ul></li><li class="src short"><a href="#v:toAnyFixed">toAnyFixed</a> :: <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> s =&gt; s -&gt; <a href="DeepBanana-Tensor-Shape.html#t:AnyFixed">AnyFixed</a></li><li class="src short">module <a href="DeepBanana-HList.html">DeepBanana.HList</a></li></ul></div><div id="interface"><h1 id="g:1">Shape datatypes</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Dim" class="def">Dim</a> n = <a href="DeepBanana-HList.html#t:SizedList">SizedList</a> n <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> <a href="src/DeepBanana-Tensor-Shape.html#Dim" class="link">Source</a></p><div class="doc"><p><code><code><a href="DeepBanana-Tensor-Shape.html#t:Dim">Dim</a></code> n</code>, where <code>n</code> is a type level natural, is a dynamic <code>n</code>-dimensional shape.
 It is represented by an <code><code><a href="DeepBanana-HList.html#t:HList">HList</a></code></code> of fixed size <code>n</code> where all elements are integers.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Fixed" class="def">Fixed</a> l = <a href="DeepBanana-HList.html#t:HList">HList</a> (<a href="DeepBanana-Tensor-Shape.html#t:Fixed-39-">Fixed'</a> l) <a href="src/DeepBanana-Tensor-Shape.html#Fixed" class="link">Source</a></p><div class="doc"><p><code><code><a href="DeepBanana-Tensor-Shape.html#t:Fixed">Fixed</a></code> l</code>, where <code>l</code> is a type level list of type level natural numbers,
 represents a shape which is fully fixed at the type level. It is represented by
 an <code><code><a href="DeepBanana-HList.html#t:HList">HList</a></code></code> where all elements are <code><code><a href="../base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a></code> n</code> for some type level natural <code>n</code>.</p></div></div><h1 id="g:2">Shape type classes</h1><div class="top"><p class="src"><span class="keyword">class</span> (<a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> s, <a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> s, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> s, <a href="../cereal-0.5.1.0/Data-Serialize.html#t:Serialize">Serialize</a> s, <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> s) =&gt; <a name="t:Shape" class="def">Shape</a> s <span class="keyword">where</span> <a href="src/DeepBanana-Tensor-Shape.html#Shape" class="link">Source</a></p><div class="doc"><p>Type class that all shape datatypes implement.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="DeepBanana-Tensor-Shape.html#v:dimensions">dimensions</a>, <a href="DeepBanana-Tensor-Shape.html#v:scalarShape">scalarShape</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:dimensions" class="def">dimensions</a> :: s -&gt; [<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>] <a href="src/DeepBanana-Tensor-Shape.html#dimensions" class="link">Source</a></p><div class="doc"><p>Dimensions of the shape as a list of ints.</p></div><p class="src"><a name="v:scalarShape" class="def">scalarShape</a> :: s <a href="src/DeepBanana-Tensor-Shape.html#scalarShape" class="link">Source</a></p><div class="doc"><p>Smallest shape of the datatype, meaning it can be broadcasted against any
 other shape of the datatype.</p></div><p class="src"><a name="v:nbdim" class="def">nbdim</a> :: s -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> <a href="src/DeepBanana-Tensor-Shape.html#nbdim" class="link">Source</a></p><div class="doc"><p>Number of dimensions.</p></div><p class="src"><a name="v:size" class="def">size</a> :: s -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> <a href="src/DeepBanana-Tensor-Shape.html#size" class="link">Source</a></p><div class="doc"><p>Size, i.e. the product of the dimensions.</p></div></div><div class="subs instances"><p id="control.i:Shape" class="caption collapser" onclick="toggleSection('i:Shape')">Instances</p><div id="section.i:Shape" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> l) =&gt; <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> ((:) * <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> l))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-68" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> l) =&gt; <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> ((:) * <a href="../base-4.8.2.0/GHC-TypeLits.html#t:SomeNat">SomeNat</a> l))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-76" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> l), <a href="../base-4.8.2.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n, <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> (<a href="../base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> n)) =&gt; <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> ((:) * (<a href="../base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> n) l))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-72" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> ([] *))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-64" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:broadcastable" class="def">broadcastable</a> :: (<a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> s1, <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> s2) =&gt; s1 -&gt; s2 -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> <a href="src/DeepBanana-Tensor-Shape.html#broadcastable" class="link">Source</a></p><div class="doc"><p>Returns true if and only if the first shape argument can be broadcasted to
 to the second shape argument. Currently, broadcasting is limited to shapes
 holding the same number of dimensions. Then, a dimension <code>d1</code> is broadcastable
 to a dimension <code>d2</code> if an only if <code>d1 == d2</code> or <code>d1 == 1</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:FixedShape" class="def">FixedShape</a> l <span class="keyword">where</span> <a href="src/DeepBanana-Tensor-Shape.html#FixedShape" class="link">Source</a></p><div class="doc"><p>Utility type class for shapes which are fully defined at the type level.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:Fixed-39-" class="def">Fixed'</a> l :: [*] <a href="src/DeepBanana-Tensor-Shape.html#Fixed%27" class="link">Source</a></p><p class="src"><span class="keyword">type</span> <a name="t:Nbdim" class="def">Nbdim</a> l :: <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> <a href="src/DeepBanana-Tensor-Shape.html#Nbdim" class="link">Source</a></p><p class="src"><span class="keyword">type</span> <a name="t:Size" class="def">Size</a> l :: <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> <a href="src/DeepBanana-Tensor-Shape.html#Size" class="link">Source</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:fixed" class="def">fixed</a> :: <a href="../base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> l -&gt; <a href="DeepBanana-HList.html#t:HList">HList</a> (<a href="DeepBanana-Tensor-Shape.html#t:Fixed-39-">Fixed'</a> l) <a href="src/DeepBanana-Tensor-Shape.html#fixed" class="link">Source</a></p><div class="doc"><p>Utility function to define shapes fixed at the type level.</p></div></div><div class="subs instances"><p id="control.i:FixedShape" class="caption collapser" onclick="toggleSection('i:FixedShape')">Instances</p><div id="section.i:FixedShape" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="DeepBanana-Tensor-Shape.html#t:FixedShape">FixedShape</a> ([] <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a>)</span> <a href="src/DeepBanana-Tensor-Shape.html#line-88" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="DeepBanana-Tensor-Shape.html#t:FixedShape">FixedShape</a> ((:) <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> n2 l), <a href="../base-4.8.2.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n1, <a href="../base-4.8.2.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n2) =&gt; <a href="DeepBanana-Tensor-Shape.html#t:FixedShape">FixedShape</a> ((:) <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> n1 ((:) <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> n2 l))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-100" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n =&gt; <a href="DeepBanana-Tensor-Shape.html#t:FixedShape">FixedShape</a> ((:) <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> n ([] <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a>))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-94" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> s =&gt; <a name="t:IsFixed" class="def">IsFixed</a> s <a href="src/DeepBanana-Tensor-Shape.html#IsFixed" class="link">Source</a></p><div class="doc"><p>Utility type class for shapes which are fully fixed at the type level.</p></div><div class="subs instances"><p id="control.i:IsFixed" class="caption collapser" onclick="toggleSection('i:IsFixed')">Instances</p><div id="section.i:IsFixed" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="DeepBanana-Tensor-Shape.html#t:IsFixed">IsFixed</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> l) =&gt; <a href="DeepBanana-Tensor-Shape.html#t:IsFixed">IsFixed</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> ((:) * <a href="../base-4.8.2.0/GHC-TypeLits.html#t:SomeNat">SomeNat</a> l))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-112" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="DeepBanana-Tensor-Shape.html#t:IsFixed">IsFixed</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> l), <a href="../base-4.8.2.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n, <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> (<a href="../base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> n)) =&gt; <a href="DeepBanana-Tensor-Shape.html#t:IsFixed">IsFixed</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> ((:) * (<a href="../base-4.8.2.0/Data-Proxy.html#t:Proxy">Proxy</a> <a href="../base-4.8.2.0/GHC-TypeLits.html#t:Nat">Nat</a> n) l))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-111" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="DeepBanana-Tensor-Shape.html#t:IsFixed">IsFixed</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> ([] *))</span> <a href="src/DeepBanana-Tensor-Shape.html#line-110" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:3">Converting from fixed to dynamic shape</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:AnyFixed" class="def">AnyFixed</a> <span class="keyword">where</span> <a href="src/DeepBanana-Tensor-Shape.html#AnyFixed" class="link">Source</a></p><div class="doc"><p>Existential datatype wrapping any fixed shape. Useful when converting from a fixed
 type level shape to a dynamic shape locally.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AnyFixed" class="def">AnyFixed</a> :: <a href="DeepBanana-Tensor-Shape.html#t:IsFixed">IsFixed</a> (<a href="DeepBanana-HList.html#t:HList">HList</a> l) =&gt; <a href="DeepBanana-HList.html#t:HList">HList</a> l -&gt; <a href="DeepBanana-Tensor-Shape.html#t:AnyFixed">AnyFixed</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a name="v:toAnyFixed" class="def">toAnyFixed</a> :: <a href="DeepBanana-Tensor-Shape.html#t:Shape">Shape</a> s =&gt; s -&gt; <a href="DeepBanana-Tensor-Shape.html#t:AnyFixed">AnyFixed</a> <a href="src/DeepBanana-Tensor-Shape.html#toAnyFixed" class="link">Source</a></p><div class="doc"><p>Converts an arbitrary shape to its fixed version.</p></div></div><h1 id="g:4">Re-exports</h1><div class="top"><p class="src">module <a href="DeepBanana-HList.html">DeepBanana.HList</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>